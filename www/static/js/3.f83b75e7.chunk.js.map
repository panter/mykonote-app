{"version":3,"sources":["Form.js","UserLinks.js","UserForm.js","LoginForm.js"],"names":["__webpack_require__","d","__webpack_exports__","TextInput","Checkbox","SubmitButton","Utf8","nameValue","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","props","a","createElement","htmlFor","idValue","className","label","type","id","name","onChange","e","target","value","checked","concat","model","attribute","UserLinks","react_default","Route","path","render","Link","to","UserForm","intro","children","LoginForm","_this","Object","_home_lex_src_mykonote_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_home_lex_src_mykonote_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_lex_src_mykonote_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","state","_home_lex_src_mykonote_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","alwaysRememberMe","react__WEBPACK_IMPORTED_MODULE_6___default","_Navbar__WEBPACK_IMPORTED_MODULE_11__","isLoggedIn","_Flash__WEBPACK_IMPORTED_MODULE_12__","_UserForm__WEBPACK_IMPORTED_MODULE_13__","onSubmit","handleFormSubmit","bind","_Form__WEBPACK_IMPORTED_MODULE_9__","renderTextInput","setValue","setState","_this2","preventDefault","$","ajax","url","method","dataType","data","done","AlertFlash","clear","onLoginSuccess","fail","show","always","scrollToTop","Component"],"mappings":"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","file":"static/js/3.f83b75e7.chunk.js","sourcesContent":["import React from 'react';\n\nexport function TextInput(props) {\n  return (\n    <div>\n      <label\n        htmlFor={idValue(props)}\n        className=\"control-label\">{props.label}</label>\n\n      <input\n        type={props.type}\n        id={idValue(props)}\n        name={nameValue(props)}\n        onChange={(e) => props.onChange(nameValue(props), e.target.value)} />\n    </div>\n  );\n}\n\nexport function Checkbox(props) {\n  return (\n    <label htmlFor={idValue(props)}>\n      <input\n        type=\"checkbox\"\n        id={idValue(props)}\n        name={nameValue(props)}\n        onChange={(e) => props.onChange(nameValue(props), e.target.checked)} />\n\n      <span className=\"checkable\">{props.label}</span>\n    </label>\n  );\n}\n\nexport function SubmitButton(props) {\n  return (\n    <input type=\"submit\" value={props.label} />\n  );\n}\n\nexport function Utf8() {\n  return (\n    <input type=\"hidden\" value=\"âœ“\" name=\"utf8\" />\n  );\n}\n\nfunction idValue(props) {\n  return `${props.model}_${props.attribute}`;\n}\n\nexport function nameValue(props) {\n  return `${props.model}[${props.attribute}]`;\n}\n","import React from 'react';\nimport { Route, Link } from 'react-router-dom';\n\nexport default function UserLinks() {\n  return (\n    <div>\n      <Route path=\"/login\" render={props => (\n        <Link className=\"btn btn-info btn-link btn-no-padding\" to=\"/register\">Register</Link>\n      )}/>\n\n      <Route path=\"/register\" render={props => (\n        <Link className=\"btn btn-info btn-link btn-no-padding\" to=\"/login\">Login</Link>\n      )}/>\n    </div>\n  );\n}\n","import React from 'react';\nimport UserLinks from './UserLinks';\n\nexport default function UserForm(props) {\n  return (\n    <div className=\"flex center\">\n      <div className=\"hidden-sm\"></div>\n\n      <div className=\"full third-1000\">\n        {props.intro ? (\n          <div className=\"card\">\n            <footer>\n              {props.intro}\n            </footer>\n          </div>\n        ) : (\n          null\n        )}\n\n        {props.children}\n\n        <UserLinks />\n      </div>\n\n      <div className=\"hidden-sm\"></div>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport $ from 'jquery';\nimport AlertFlash from './AlertFlash';\nimport { TextInput, SubmitButton, Checkbox, Utf8, nameValue } from './Form';\nimport { scrollToTop } from './scroll';\nimport Navbar from './Navbar';\nimport Flash from './Flash';\nimport UserForm from './UserForm';\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      [nameValue({ model: 'user', attribute: 'remember_me' })]: props.alwaysRememberMe\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <Navbar isLoggedIn={false} />\n        <main>\n          <Flash />\n          <UserForm>\n            <form onSubmit={this.handleFormSubmit.bind(this)}>\n              <Utf8 />\n\n              <div className=\"flex one\">\n                {this.renderTextInput(\"email\", \"email\", \"Email\")}\n\n                {this.renderTextInput(\"password\", \"password\", \"Password\")}\n\n                {this.props.alwaysRememberMe ? (\n                  null\n                ) : (\n                  <Checkbox model=\"user\" attribute=\"remember_me\" label=\"Remember me\"\n                    onChange={this.setValue.bind(this)} />\n                )}\n              </div>\n\n              <SubmitButton label=\"Log in\" />\n            </form>\n          </UserForm>\n        </main>\n      </div>\n    );\n  }\n\n  renderTextInput(type, attribute, label) {\n    return (\n      <TextInput\n        type={type}\n        model=\"user\"\n        attribute={attribute}\n        label={label}\n        onChange={this.setValue.bind(this)} />\n    );\n  }\n\n  setValue(name, value) {\n    this.setState({ [name]: value });\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n\n    $.ajax({\n      url: '/users/sign_in',\n      method: 'POST',\n      dataType: 'json',\n      data: this.state\n    })\n    .done((data) => {\n      AlertFlash.clear();\n      this.props.onLoginSuccess();\n    })\n    .fail(() => {\n      AlertFlash.show('Sorry, that did not work. ' +\n                      'Did you enter a wrong username or a wrong password?')\n    })\n    .always(scrollToTop);\n  }\n}\n\nexport default LoginForm;\n"],"sourceRoot":""}