{"version":3,"sources":["ajax.js","keyboard.js","Uuid.js","Note.js","SearchTerm.js","icons/material/expand_more-24px.svg","LoadMoreButton.js","icons/material/archive-24px.svg","icons/material/delete-24px.svg","NoteList.js","highlight.js","NoteForm.js","PushState.js","SyncStorage.js","AutoSave.js","Dialog.js","SaveStateLabel.js","icons/material/add-24px.svg","ActionBar.js","icons/material/arrow_back-24px.svg","NoteActionBar.js","NoteEdit.js","Task.js","icons/material/expand_less_black_24dp.svg","TaskGroup.js","TaskEdit.js","App.js","registerServiceWorker.js","setGlobals.js","index.js","Flash.js","icons/material/logout-24px.svg","Logout.js","images/logo.svg","Logo.js","icons/material/search_black_24dp.svg","SearchBox.js","feature.js","icons/material/close-24px.svg","Navbar.js","NoticeFlash.js","AbstractFlash.js","Spinner.js","scroll.js","icons/material/short_text-24px.svg","EventHive.js","AlertFlash.js"],"names":["ajax","url","method","data","performAjax","promise","ajaxWithAbort","objectWithNestedKeys","nestKey","newData","Object","keys","forEach","key","concat","arguments","length","undefined","window","API_HOST","setApiHost","spinnerId","setTimeout","EventHive","publish","show","controller","AbortController","signal","Promise","resolve","reject","options","_setUrlandOptions","headers","Accept","getOptions","fromEntries","entries","filter","_ref","_ref2","_home_lex_src_mykonote_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__","value","params","URLSearchParams","formData","FormData","append","body","setUrlandOptions","fetch","then","response","ok","status","json","AjaxError","statusText","handleThen","catch","error","DOMException","name","handleCatch","finally","clearTimeout","message","responseJson","_this","_home_lex_src_mykonote_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_lex_src_mykonote_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_lex_src_mykonote_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","JSON","stringify","Error","Mousetrap","prototype","stopCallback","bind","Uuid","replace","c","r","Math","random","toString","Note","uid","title","content","createdAt","updatedAt","archivedAt","classCallCheck","_uid","generateV4","_title","_content","_createdAt","Date","_updatedAt","_serverUpdatedAt","_archivedAt","created_at","toISOString","updated_at","server_updated_at","serverUpdatedAt","archived_at","attributes","SearchTerm","props","searchQuery","react_default","a","createElement","className","Component","_extends","assign","target","i","source","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","fill","_ref3","expand_more_24px_SvgExpandMore24Px","svgRef","height","viewBox","width","ref","ForwardRef","forwardRef","LoadMoreButton","__webpack_require__","p","renderLoadMoreButton","renderSpinner","showLoadMoreButton","showSpinner","onClick","handleLoadMoreClick","Spinner","e","preventDefault","currentTarget","blur","archive_24px_extends","archive_24px_objectWithoutProperties","archive_24px_objectWithoutPropertiesLoose","archive_24px_ref2","archive_24px_ref3","archive_24px_SvgArchive24Px","archive_24px_ForwardRef","delete_24px_extends","delete_24px_objectWithoutProperties","delete_24px_objectWithoutPropertiesLoose","delete_24px_ref2","delete_24px_ref3","delete_24px_SvgDelete24Px","delete_24px_ForwardRef","NoteList","context","possibleConstructorReturn","getPrototypeOf","state","notes","currentPage","hasMorePages","isLoadingMorePages","isSynced","getListCssClass","src_SearchTerm_0","renderTaskNotesFilters","renderList","src_LoadMoreButton","collection","onChange","handleTaskNoteFilterChanged","_this2","renderEmptyListItem","map","note","renderListItem","getListItemCssClass","handleNoteClick","renderNotePicture","data-tooltip","humanDate","prettyPrint","showTime","relativeTime","handleArchiveNoteClick","handleDeleteNoteClick","cssClass","isActiveNote","activeNoteUid","showList","listNeedsUpdate","updateList","nextProps","setState","_this3","_this4","updateListRequest","abort","search","page","executeUpdateListRequest","_this5","fromAttributes","current_page","has_more_pages","AlertFlash","console","match","getPreviewImageUrl","defaultNotePicture","style","backgroundImage","backgroundRepeat","backgroundSize","highlight","registerLanguage","asciidoc","bash","basic","clean","clojure","cmake","coffeescript","cpp","crystal","csharp","css","dart","diff","dockerfile","ebnf","elixir","elm","erb","erlang","fsharp","gherkin","go","gradle","groovy","haml","handlebars","htmlbars","http","ini","java","javascript","kotlin","less","lisp","llvm","makefile","markdown","mathematica","matlab","nginx","objectivec","perl","pgsql","php","plaintext","powershell","prolog","properties","python","ruby","rust","scala","scss","shell","sql","stylus","swift","latex","typescript","vim","xml","yaml","hljs","NoteForm","shouldRerender","showForm","formContainerElement","onSubmit","handleFormSubmit","renderTitle","renderContent","type","handleTitleChange","placeholder","titleElement","contentContainerElement","handleChange","contentElement","innerHTML","focusTitleFieldIfNewNote","renderEditor","noteUpdateSubscription","subscribe","editor","pasteHTML","off","setText","history","clear","update","on","handleContentChange","_this6","remove","nextState","Quill","theme","modules","syntax","toolbar","header","color","background","list","indent","task-list","querySelector","isNew","focus","PushState","path","push","includes","generatePath","id","location","pathname","document","SyncStorage","localStorage","setItem","_getKey","toJson","getItem","callback","_step","_iterator","_createForOfIteratorHelper","_getLocalStorageKeys","s","n","done","noteRaw","parse","err","f","removeItem","startsWith","KEY_PREFIX","AutoSave","onServerSync","onServerSyncCallback","setSyncStatus","interval","setInterval","syncToServer","POLLING_INTERVAL","clearInterval","set","syncInProgress","requests","eachNote","request","serverNote","ajaxDone","ajaxFail","allSettled","isEmpty","onbeforeunload","syncStorageRawNote","get","navigator","onLine","errors","join","Dialog","slice","checked","htmlFor","handleCancelButtonClick","dangerouslySetInnerHTML","__html","text","handleOkButtonClick","stopPropagation","handleConfirmed","SaveStateLabel","add_24px_extends","add_24px_objectWithoutProperties","add_24px_objectWithoutPropertiesLoose","add_24px_ref2","add_24px_ref3","add_24px_SvgAdd24Px","add_24px_ForwardRef","ActionBar","_Component","inherits","createClass","left","src_SaveStateLabel_0","handleNewClicked","arrow_back_24px_extends","arrow_back_24px_objectWithoutProperties","arrow_back_24px_objectWithoutPropertiesLoose","arrow_back_24px_ref2","arrow_back_24px_ref3","arrow_back_24px_SvgArrowBack24Px","arrow_back_24px_ForwardRef","NoteActionBar","showListButtonClassName","src_ActionBar_0","handleShowListClicked","NoteEdit","initStateFromNote","initStateFromNoteId","objectSpread","getNewNoteAttributes","renderHeaderBar","src_Dialog","showArchiveDialog","handleArchiveDialogConfirmed","showDeleteDialog","handleDeleteDialogConfirmed","autoSave","handleServerSync","startPolling","noteCreateSubscription","setNewNote","noteNewSubscription","stopPolling","Navbar","isLoggedIn","handleSearchEnter","handleSearchCleared","Flash","src_NoteActionBar","handleNewNoteClicked","src_NoteList_0","src_NoteForm_0","handleEditChange","setBrowserTitle","pushState","setEdit","confirmed","deleteNote","setArchived","setChange","afterSetState","setNew","_this7","Task","task","handleTaskChecked","expand_less_black_24dp_extends","expand_less_black_24dp_objectWithoutProperties","expand_less_black_24dp_objectWithoutPropertiesLoose","expand_less_black_24dp_ref2","expand_less_black_24dp_ref3","expand_less_black_24dp_SvgExpandLessBlack24Dp","expand_less_black_24dp_ForwardRef","TaskGroup","showDone","renderTodo","renderDone","todo","tasks","renderTask","src_Task_0","TaskEdit","handleFilterChanged","renderEmpty","src_TaskGroup","associatedNote","find","collectionNote","taskIndex","findIndex","collectionTask","noteContentElement","classList","toggle","fetchTasks","LoginForm","React","lazy","RegistrationForm","App","setIsLoggedIn","HashRouter","renderLoggedIn","renderLoggedOut","onLoginSuccess","Switch","Route","render","renderNoteEdit","src_TaskEdit","Redirect","from","to","react","fallback","alwaysRememberMe","ALWAYS_REMEMBER_ME","routerProps","src_NoteEdit","isLocalhost","Boolean","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","log","NoticeFlash","ReactDOM","src_App_0","getElementById","URL","process","origin","addEventListener","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","react__WEBPACK_IMPORTED_MODULE_5___default","_NoticeFlash__WEBPACK_IMPORTED_MODULE_6__","_AlertFlash__WEBPACK_IMPORTED_MODULE_7__","logout_24px_SvgLogout24Px","Logout","handleClicked","scrollToTop","withRouter","logo_extends","logo_objectWithoutProperties","logo_objectWithoutPropertiesLoose","logo_ref2","cx","cy","logo_ref3","_ref4","logo_SvgLogo","logo_ForwardRef","Logo","Link","subscribeSpinner","unsubscribeSpinner","spinnerSubscription","search_black_24dp_extends","search_black_24dp_objectWithoutProperties","search_black_24dp_objectWithoutPropertiesLoose","search_black_24dp_ref2","search_black_24dp_ref3","search_black_24dp_SvgSearchBlack24Dp","search_black_24dp_ForwardRef","SearchBox","isActive","handleSearchEnterDebounced","debounce","onFocus","onBlur","searchInput","subscribeSearch","unsubscribeSearch","searchSubscription","isFeatureEnabled","webdriver","item","close_24px_extends","close_24px_objectWithoutProperties","close_24px_objectWithoutPropertiesLoose","close_24px_ref2","close_24px_ref3","close_24px_SvgClose24Px","close_24px_ForwardRef","src_Logo","src_SearchBox_0","showHamburger","NavLink","handleCloseHamburgerClicked","src_Logout","AbstractFlash","getCssClass","handleClose","getAdditionalCssClass","constructor","getEventName","handleEvent","removeEventListener","detail","getName","CustomEvent","dispatchEvent","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","xmlns","strokeWidth","strokeLinecap","scrollTo","top","behavior","__webpack_exports__","module","exports","topic","listener","topics","index","info","_topics"],"mappings":"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","file":"static/js/main.ca2a4927.chunk.js","sourcesContent":["import EventHive from './EventHive';\n\nexport function ajax(url, method, data) {\n  return performAjax(url, method, data).promise;\n}\n\nexport function ajaxWithAbort(url, method, data) {\n  return performAjax(url, method, data);\n}\n\nexport function objectWithNestedKeys(data, nestKey) {\n  const newData = {};\n\n  Object.keys(data).forEach(key => {\n    newData[`${nestKey}[${key}]`] = data[key];\n  });\n\n  return newData;\n}\n\nfunction performAjax(url, method = 'GET', data) {\n  url = setApiHost(url);\n\n  const spinnerId = startSpinner();\n\n  // make request abortable\n  const controller = new AbortController();\n  const signal = controller.signal;\n\n  const promise = new Promise((resolve, reject) => {\n    let options;\n    ({ url, options } = setUrlandOptions(url, method, data, signal));\n\n    fetch(url, options)\n      .then(response => handleThen(response, resolve, reject))\n      .catch((error) => handleCatch(error, reject))\n      .finally(() => stopSpinner(spinnerId));\n  })\n\n  return { promise, controller };\n}\n\nfunction setApiHost(url) {\n  if (!window.API_HOST) {\n    return url;\n  }\n\n  return `${window.API_HOST}${url}`;\n}\n\nfunction startSpinner() {\n  // start the spinner after 500ms\n  const timeoutId = setTimeout(() => {\n    EventHive.publish('spinner.toggle', { show: true })\n  }, 500)\n\n  return timeoutId;\n}\n\nfunction stopSpinner(timeoutId) {\n  // stop the spinner\n  clearTimeout(timeoutId);\n  EventHive.publish('spinner.toggle', { show: false })\n}\n\nfunction setUrlandOptions(url, method, data, signal) {\n  const options = getOptions(method, signal);\n\n  if (data) {\n    // filter out non-values\n    data = Object.fromEntries(\n      Object.entries(data).filter(([_key, value]) => value !== undefined)\n    );\n\n    if (method === 'GET') {\n      const params = new URLSearchParams(data);\n      url = `${url}?${params}`;\n    }\n    else {\n      const formData = new FormData();\n      Object.keys(data).forEach(key => formData.append(key, data[key]));\n      options.body = formData;\n    }\n  }\n\n  return { url, options };\n}\n\nfunction getOptions(method, signal) {\n  return {\n    method,\n    signal,\n    headers: {\n      'Accept': 'application/json'\n    }\n  };\n}\n\nfunction handleThen(response, resolve, reject) {\n  // 204 No Content\n  if (response.ok && response.status === 204) {\n    resolve();\n  }\n  else if (response.ok) {\n    response.json().then(json => resolve(json));\n  }\n  else {\n    response.json().then(json => reject(new AjaxError(response.statusText, response.status, json)));\n  }\n}\n\nfunction handleCatch(error, reject) {\n  // ignore when the request was aborted\n  // (this happens usually when not yet finished request is replaced by a\n  // next request)\n  if (error instanceof DOMException && error.name === 'AbortError') {\n    // no-op\n  }\n  else {\n    reject(error);\n  }\n}\n\nclass AjaxError extends Error {\n  constructor(message, status, responseJson) {\n    super(message);\n    this.name = 'AjaxError';\n    this.status = status;\n    this.responseJson = responseJson;\n  }\n\n  toString() {\n    return `${this.name}: ${this.message}. ` +\n      `Status: ${this.status}.` +\n      `ResponseJson: ${JSON.stringify(this.responseJson)}`;\n  }\n}\n","import Mousetrap from 'mousetrap'\nimport EventHive from './EventHive';\n\n// always fire shortcuts inside input fields\nMousetrap.prototype.stopCallback = function() { return false }\n\nMousetrap.bind('alt+shift+f', function() {\n  EventHive.publish('search.focus');\n\n  return false;\n});\n\nMousetrap.bind('alt+shift+n', function() {\n  EventHive.publish('note.new');\n\n  return false;\n});\n","class Uuid  {\n  static generateV4() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      var r = Math.random() * 16 | 0, v = c === 'x' ? r : ((r & 0x3) | 0x8);\n      return v.toString(16);\n    });\n  }\n}\n\nexport default Uuid;\n","import Uuid from './Uuid';\n\nclass Note {\n  constructor(uid, title, content, createdAt, updatedAt, archivedAt) {\n    this._uid = uid || Uuid.generateV4();\n    this._title = title || '';\n    this._content = content || '';\n    this._createdAt = createdAt || new Date();\n    this._updatedAt = updatedAt || this._createdAt;\n    this._serverUpdatedAt = this._updatedAt;\n    this._archivedAt = archivedAt;\n  }\n\n  get uid() { return this._uid }\n\n  get title() { return this._title }\n  set title(title) {\n    this._updatedAt = new Date();\n    this._title = title;\n  }\n\n  get content() { return this._content }\n  set content(content) {\n    this._updatedAt = new Date();\n    this._content = content;\n  }\n\n  get createdAt() { return this._createdAt }\n  get updatedAt() { return this._updatedAt }\n\n  get serverUpdatedAt() { return this._serverUpdatedAt }\n  set serverUpdatedAt(serverUpdatedAt) { this._serverUpdatedAt = serverUpdatedAt }\n\n  get archivedAt() { return this._archivedAt; }\n\n  setArchived() {\n    this._archivedAt = new Date();\n  }\n\n  isNew() {\n    return !this.title && !this.content;\n  }\n\n  toJson() {\n    return JSON.stringify(\n      {\n        uid: this.uid,\n        title: this.title,\n        content: this.content,\n        created_at: this.createdAt.toISOString(),\n        updated_at: this.updatedAt.toISOString(),\n        server_updated_at: this.serverUpdatedAt.toISOString(),\n        archived_at: this.archivedAt ? this.archivedAt.toISOString() : null\n      }\n    );\n  }\n\n  static fromAttributes(attributes) {\n    return new Note(\n      attributes.uid,\n      attributes.title,\n      attributes.content,\n      new Date(attributes.created_at),\n      new Date(attributes.updated_at),\n      attributes.archived_at ? new Date(attributes.archived_at) : null\n    );\n  }\n}\n\nexport default Note;\n","import React, { Component } from 'react';\n\nimport './SearchTerm.css';\n\nclass SearchTerm extends Component {\n  render() {\n    if (!this.props.searchQuery) { return null; }\n\n    return (\n      <div className=\"search-term\">Showing results for \"{this.props.searchQuery}\"</div>\n    );\n  }\n}\nexport default SearchTerm;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n});\n\nvar SvgExpandMore24Px = function SvgExpandMore24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgExpandMore24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/expand_more-24px.95a46151.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport Spinner from './Spinner';\nimport { ReactComponent as MoreIcon } from './icons/material/expand_more-24px.svg';\n\nclass LoadMoreButton extends Component {\n  render() {\n    return (\n      <div>\n        {this.renderLoadMoreButton()}\n        {this.renderSpinner()}\n      </div>\n    );\n  }\n\n  renderLoadMoreButton() {\n    if (!this.props.showLoadMoreButton) { return null; }\n    if (this.props.showSpinner) { return null; }\n\n    return (\n      <button name=\"load-more\" className='icon big full-width' onClick={this.handleLoadMoreClick.bind(this)}>\n        <MoreIcon />\n      </button>\n    );\n  }\n\n  renderSpinner() {\n    if (!this.props.showSpinner) { return null; }\n\n    return (\n      <div className=\"icon big full-width\">\n        <Spinner />\n      </div>\n    );\n  }\n\n  handleLoadMoreClick(e) {\n    e.preventDefault();\n    e.currentTarget.blur();\n\n    this.props.handleLoadMoreClick(e);\n  }\n}\n\nexport default LoadMoreButton;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z\"\n});\n\nvar SvgArchive24Px = function SvgArchive24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArchive24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/archive-24px.5286884b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n});\n\nvar SvgDelete24Px = function SvgDelete24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDelete24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/delete-24px.16793e81.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport humanDate from 'human-date';\nimport { ajaxWithAbort } from './ajax';\nimport Note from './Note';\nimport AlertFlash from './AlertFlash';\nimport SearchTerm from './SearchTerm';\nimport LoadMoreButton from './LoadMoreButton';\n\nimport defaultNotePicture from './icons/material/short_text-24px.svg';\nimport { ReactComponent as ArchiveIcon } from './icons/material/archive-24px.svg';\nimport { ReactComponent as DeleteIcon } from './icons/material/delete-24px.svg';\n\nimport './NoteList.css';\n\nclass NoteList extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      notes: [],\n      currentPage: 1,\n      hasMorePages: false,\n      isLoadingMorePages: true,\n      isSynced: false,\n      searchQuery: undefined\n    };\n  }\n\n  render() {\n    return (\n      <div className={this.getListCssClass()}>\n        <SearchTerm searchQuery={this.state.searchQuery} />\n        {this.renderTaskNotesFilters()}\n        {this.renderList()}\n        <LoadMoreButton\n          showLoadMoreButton={this.state.hasMorePages}\n          showSpinner={this.state.isLoadingMorePages}\n          handleLoadMoreClick={this.handleLoadMoreClick.bind(this)} />\n      </div>\n    );\n  }\n\n  renderTaskNotesFilters() {\n    if (this.props.collection !== 'task_notes') { return; }\n\n    return (\n      <div className=\"view-filter\">\n        <select onChange={this.handleTaskNoteFilterChanged.bind(this)}>\n          <option value=\"\">Show all</option>\n          <option value=\"todo\">Show todos</option>\n        </select>\n      </div>\n    );\n  }\n\n  renderList() {\n    if (this.state.searchQuery && this.state.notes.length === 0) {\n      return this.renderEmptyListItem();\n    }\n    return this.state.notes.map((note) => this.renderListItem(note));\n  }\n\n  renderEmptyListItem() {\n    return (\n      <div>There's nothing</div>\n    );\n  }\n\n  renderListItem(note) {\n    return (\n      <div\n        className={this.getListItemCssClass(note)}\n        key={note.uid}\n        onClick={this.handleNoteClick.bind(this, note)}>\n\n        {this.renderNotePicture(note)}\n        <div className=\"list-item-content\">\n          <h4 className=\"list-item-heading\">\n            {note.title}\n          </h4>\n          <div className=\"list-item-meta tooltip-top\" data-tooltip={humanDate.prettyPrint(note.updatedAt, { showTime: true })}>\n            {humanDate.relativeTime(note.updatedAt)}\n          </div>\n        </div>\n        <div className=\"list-item-actions\">\n          <button name=\"archive-note\" className='icon' onClick={this.props.handleArchiveNoteClick.bind(this, note)}>\n            <ArchiveIcon />\n          </button>\n          <button name=\"delete-note\" className='icon' onClick={this.props.handleDeleteNoteClick.bind(this, note)}>\n            <DeleteIcon />\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  getListItemCssClass(note) {\n    let cssClass = 'card list-item';\n    if (this.isActiveNote(note)) {\n      cssClass += ' active';\n    }\n\n    return cssClass;\n  }\n\n  isActiveNote(note) {\n    return note.uid === this.props.activeNoteUid;\n  }\n\n  getListCssClass() {\n    if (!this.props.showList) {\n      return 'hidden-sm';\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.listNeedsUpdate) {\n      this.listNeedsUpdate = false;\n      this.updateList();\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!this.state.isSynced && nextProps.isSynced && nextProps.listNeedsUpdate !== false) {\n      this.listNeedsUpdate = true;\n    }\n\n    if (this.state.searchQuery !== nextProps.searchQuery) {\n      this.listNeedsUpdate = true;\n    }\n\n    // collection changed\n    if (this.props.collection !== nextProps.collection) {\n      this.listNeedsUpdate = true;\n    }\n\n    this.setState( {\n      isSynced: nextProps.isSynced,\n      searchQuery: nextProps.searchQuery\n    });\n  }\n\n  handleNoteClick(note, e) {\n    this.props.handleNoteClick(note, e);\n  }\n\n  handleLoadMoreClick(e) {\n    this.setState({ isLoadingMorePages: true });\n\n    this.setState({ currentPage: this.state.currentPage + 1 }, () => {\n      this.updateList();\n    });\n  }\n\n  handleTaskNoteFilterChanged(e) {\n    this.setState({ filter: e.target.value }, () => {\n      this.updateList();\n    });\n  }\n\n  updateList() {\n    if (this.updateListRequest) {\n      this.updateListRequest.controller.abort();\n    }\n\n    const params = {\n      search: this.state.searchQuery,\n      page: this.state.currentPage\n    };\n\n    if (this.state.filter) {\n      params['filters[]'] = this.state.filter;\n    }\n\n    this.updateListRequest = ajaxWithAbort(`/api/${this.props.collection}`, 'GET', params);\n\n    this.executeUpdateListRequest();\n  }\n\n  executeUpdateListRequest() {\n    this.updateListRequest.promise\n      .then((data) => {\n        const notes = data.notes.map(function(note) {\n          return Note.fromAttributes(note);\n        });\n\n        this.setState({\n          notes: notes,\n          currentPage: data.current_page,\n          hasMorePages: data.has_more_pages,\n          isLoadingMorePages: false\n        });\n      })\n      .catch((error) => {\n        this.setState({ isLoadingMorePages: false });\n\n        AlertFlash.show('Watch out, the list is not up to date.');\n        console.error('url: ', this.props.url, 'error: ', error.toString());\n      });\n  }\n\n  getPreviewImageUrl(note) {\n    var match = note.content.match(/<img.*? src=['\"]([^'\"]+)['\"].*?>/);\n    if (match) {\n      return match[1];\n    }\n    else {\n      return null;\n    }\n  }\n\n  renderNotePicture(note) {\n    const url = this.getPreviewImageUrl(note) || defaultNotePicture;\n\n    const style = {\n      backgroundImage: `url(${url})`,\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'cover'\n    };\n\n    return <div style={style} className=\"list-item-picture\"></div>;\n  }\n}\n\nexport default NoteList;\n","import highlight from 'highlight.js/lib/core';\n\nimport asciidoc from 'highlight.js/lib/languages/asciidoc';\nimport bash from 'highlight.js/lib/languages/bash';\nimport basic from 'highlight.js/lib/languages/basic';\nimport clean from 'highlight.js/lib/languages/clean';\nimport clojure from 'highlight.js/lib/languages/clojure';\nimport cmake from 'highlight.js/lib/languages/cmake';\nimport coffeescript from 'highlight.js/lib/languages/coffeescript';\nimport cpp from 'highlight.js/lib/languages/cpp';\nimport crystal from 'highlight.js/lib/languages/crystal';\nimport csharp from 'highlight.js/lib/languages/csharp';\nimport css from 'highlight.js/lib/languages/css';\nimport d from 'highlight.js/lib/languages/d';\nimport dart from 'highlight.js/lib/languages/dart';\nimport diff from 'highlight.js/lib/languages/diff';\nimport dockerfile from 'highlight.js/lib/languages/dockerfile';\nimport ebnf from 'highlight.js/lib/languages/ebnf';\nimport elixir from 'highlight.js/lib/languages/elixir';\nimport elm from 'highlight.js/lib/languages/elm';\nimport erb from 'highlight.js/lib/languages/erb';\nimport erlang from 'highlight.js/lib/languages/erlang';\nimport fsharp from 'highlight.js/lib/languages/fsharp';\nimport gherkin from 'highlight.js/lib/languages/gherkin';\nimport go from 'highlight.js/lib/languages/go';\nimport gradle from 'highlight.js/lib/languages/gradle';\nimport groovy from 'highlight.js/lib/languages/groovy';\nimport haml from 'highlight.js/lib/languages/haml';\nimport handlebars from 'highlight.js/lib/languages/handlebars';\nimport htmlbars from 'highlight.js/lib/languages/htmlbars';\nimport http from 'highlight.js/lib/languages/http';\nimport ini from 'highlight.js/lib/languages/ini';\nimport java from 'highlight.js/lib/languages/java';\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport json from 'highlight.js/lib/languages/json';\nimport kotlin from 'highlight.js/lib/languages/kotlin';\nimport less from 'highlight.js/lib/languages/less';\nimport lisp from 'highlight.js/lib/languages/lisp';\nimport llvm from 'highlight.js/lib/languages/llvm';\nimport makefile from 'highlight.js/lib/languages/makefile';\nimport markdown from 'highlight.js/lib/languages/markdown';\nimport mathematica from 'highlight.js/lib/languages/mathematica';\nimport matlab from 'highlight.js/lib/languages/matlab';\nimport nginx from 'highlight.js/lib/languages/nginx';\nimport objectivec from 'highlight.js/lib/languages/objectivec';\nimport perl from 'highlight.js/lib/languages/perl';\nimport pgsql from 'highlight.js/lib/languages/pgsql';\nimport php from 'highlight.js/lib/languages/php';\nimport plaintext from 'highlight.js/lib/languages/plaintext';\nimport powershell from 'highlight.js/lib/languages/powershell';\nimport prolog from 'highlight.js/lib/languages/prolog';\nimport properties from 'highlight.js/lib/languages/properties';\nimport python from 'highlight.js/lib/languages/python';\nimport r from 'highlight.js/lib/languages/r';\nimport ruby from 'highlight.js/lib/languages/ruby';\nimport rust from 'highlight.js/lib/languages/rust';\nimport scala from 'highlight.js/lib/languages/scala';\nimport scss from 'highlight.js/lib/languages/scss';\nimport shell from 'highlight.js/lib/languages/shell';\nimport sql from 'highlight.js/lib/languages/sql';\nimport stylus from 'highlight.js/lib/languages/stylus';\nimport swift from 'highlight.js/lib/languages/swift';\nimport latex from 'highlight.js/lib/languages/latex';\nimport typescript from 'highlight.js/lib/languages/typescript';\nimport vim from 'highlight.js/lib/languages/vim';\nimport xml from 'highlight.js/lib/languages/xml';\nimport yaml from 'highlight.js/lib/languages/yaml';\n\nimport 'highlight.js/styles/railscasts.css';\n\nhighlight.registerLanguage('asciidoc', asciidoc);\nhighlight.registerLanguage('bash', bash);\nhighlight.registerLanguage('basic', basic);\nhighlight.registerLanguage('clean', clean);\nhighlight.registerLanguage('clojure', clojure);\nhighlight.registerLanguage('cmake', cmake);\nhighlight.registerLanguage('coffeescript', coffeescript);\nhighlight.registerLanguage('cpp', cpp);\nhighlight.registerLanguage('crystal', crystal);\nhighlight.registerLanguage('csharp', csharp);\nhighlight.registerLanguage('css', css);\nhighlight.registerLanguage('d', d);\nhighlight.registerLanguage('dart', dart);\nhighlight.registerLanguage('diff', diff);\nhighlight.registerLanguage('dockerfile', dockerfile);\nhighlight.registerLanguage('ebnf', ebnf);\nhighlight.registerLanguage('elixir', elixir);\nhighlight.registerLanguage('elm', elm);\nhighlight.registerLanguage('erb', erb);\nhighlight.registerLanguage('erlang', erlang);\nhighlight.registerLanguage('fsharp', fsharp);\nhighlight.registerLanguage('gherkin', gherkin);\nhighlight.registerLanguage('go', go);\nhighlight.registerLanguage('gradle', gradle);\nhighlight.registerLanguage('groovy', groovy);\nhighlight.registerLanguage('haml', haml);\nhighlight.registerLanguage('handlebars', handlebars);\nhighlight.registerLanguage('htmlbars', htmlbars);\nhighlight.registerLanguage('http', http);\nhighlight.registerLanguage('ini', ini);\nhighlight.registerLanguage('java', java);\nhighlight.registerLanguage('javascript', javascript);\nhighlight.registerLanguage('json', json);\nhighlight.registerLanguage('kotlin', kotlin);\nhighlight.registerLanguage('less', less);\nhighlight.registerLanguage('lisp', lisp);\nhighlight.registerLanguage('llvm', llvm);\nhighlight.registerLanguage('makefile', makefile);\nhighlight.registerLanguage('markdown', markdown);\nhighlight.registerLanguage('mathematica', mathematica);\nhighlight.registerLanguage('matlab', matlab);\nhighlight.registerLanguage('nginx', nginx);\nhighlight.registerLanguage('objectivec', objectivec);\nhighlight.registerLanguage('perl', perl);\nhighlight.registerLanguage('pgsql', pgsql);\nhighlight.registerLanguage('php', php);\nhighlight.registerLanguage('plaintext', plaintext);\nhighlight.registerLanguage('powershell', powershell);\nhighlight.registerLanguage('prolog', prolog);\nhighlight.registerLanguage('properties', properties);\nhighlight.registerLanguage('python', python);\nhighlight.registerLanguage('r', r);\nhighlight.registerLanguage('ruby', ruby);\nhighlight.registerLanguage('rust', rust);\nhighlight.registerLanguage('scala', scala);\nhighlight.registerLanguage('scss', scss);\nhighlight.registerLanguage('shell', shell);\nhighlight.registerLanguage('sql', sql);\nhighlight.registerLanguage('stylus', stylus);\nhighlight.registerLanguage('swift', swift);\nhighlight.registerLanguage('latex', latex);\nhighlight.registerLanguage('typescript', typescript);\nhighlight.registerLanguage('vim', vim);\nhighlight.registerLanguage('xml', xml);\nhighlight.registerLanguage('yaml', yaml);\n\nwindow.hljs = highlight;\n","import './highlight.js';\nimport React, { Component } from 'react';\nimport Quill from 'quill';\nimport 'quill-task-list/task_list_node';\nimport 'quill/dist/quill.snow.css';\nimport './NoteForm.css';\nimport EventHive from './EventHive';\n\nclass NoteForm extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      note: this.props.note\n    };\n\n    this.shouldRerender = true;\n  }\n\n  render() {\n    return (\n      <div className={this.props.showForm ? undefined : 'hidden-sm'}>\n        <form\n          ref={(c) => this.formContainerElement = c}\n          onSubmit={this.handleFormSubmit}>\n          {this.renderTitle()}\n          {this.renderContent()}\n        </form>\n      </div>\n    );\n  }\n\n  renderTitle() {\n    return (\n      <input\n        type=\"text\"\n        value={this.state.note.title}\n        onChange={this.handleTitleChange.bind(this)}\n        placeholder=\"Title\"\n        ref={(c) => this.titleElement = c}\n      />\n    );\n  }\n\n  renderContent() {\n    return (\n      <div ref={(c) => this.contentContainerElement = c}></div>\n    );\n  }\n\n  // prevent form submission by hitting enter.\n  // changes will be asynchronously saved by ajax.\n  handleFormSubmit(e) {\n    e.preventDefault();\n    return false;\n  }\n\n  handleTitleChange() {\n    this.shouldRerender = true;\n    const note = this.state.note;\n    note.title = this.titleElement.value;\n    this.setState({ note: note }, this.handleChange);\n  }\n\n  handleContentChange() {\n    this.shouldRerender = false;\n    const note = this.state.note;\n    note.content = this.contentElement.innerHTML;\n    this.setState({ note: note }, this.handleChange);\n  }\n\n  handleChange() {\n    this.props.handleChange(this.state.note);\n  }\n\n  componentDidMount() {\n    this.focusTitleFieldIfNewNote();\n    this.renderEditor();\n\n    // when updating the note from outside (e.g. from the mobile app), in which\n    // case a sync to the server should be triggered. if we just use the react\n    // eventing the rte won't detect the changes.\n    this.noteUpdateSubscription = EventHive.subscribe('note.update', (data) => {\n      this.titleElement.value = data.title;\n      this.handleTitleChange();\n      this.editor.pasteHTML(data.content);\n    });\n  }\n\n  // gets called initially and when a note is switched\n  componentDidUpdate() {\n    this.editor.off('text-change');\n    // reset the content before inserting the actual content.\n    // presumably because of change tracking (delta stuff) in quill the\n    // insertion of big content hangs the browser for several seconds.\n    this.editor.setText('');\n    this.contentElement.innerHTML = this.state.note.content;\n    this.editor.history.clear();\n    // wait on updates before attaching the `text-change` event\n    this.editor.update();\n    this.editor.on('text-change', this.handleContentChange.bind(this));\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // a different note is shown.\n    if (nextProps.note.uid !== this.state.note.uid) {\n      this.shouldRerender = true;\n      this.setState({\n        note: nextProps.note\n      }, () => this.focusTitleFieldIfNewNote());\n    }\n  }\n\n  componentWillUnmount() {\n    this.noteUpdateSubscription.remove();\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // don't rerender if the RTE content changes. the cursor jumps to the\n    // beginning of the content if we re-initialize the RTE content.\n    return this.shouldRerender;\n  }\n\n  renderEditor() {\n    this.editor = new Quill(this.contentContainerElement, {\n      theme: 'snow',\n      modules: {\n        'syntax': true,\n        'toolbar': [\n          [{ 'header': [1, 2, false] }],\n          ['bold', 'italic', 'strike'],\n          [{ 'color': [] }, { 'background': [] }],\n          ['blockquote', 'code-block'],\n          [\n            { 'list': 'ordered' }, { 'list': 'bullet' }, 'task-list',\n            { 'indent': '-1' }, { 'indent': '+1' }\n          ],\n          ['link', 'image'],\n          ['clean']\n        ],\n        'task-list': true\n      }\n    });\n\n    this.contentElement = this.contentContainerElement.querySelector('.ql-editor');\n  }\n\n  focusTitleFieldIfNewNote() {\n    if (this.state.note.isNew()) {\n      this.titleElement.focus();\n    }\n  }\n}\n\nexport default NoteForm;\n","import { generatePath } from 'react-router';\n\nclass PushState {\n  constructor(match, history) {\n    this.path = match.path;\n    this.history = history;\n  }\n\n  setNew() {\n    this.history.push(this.path);\n  }\n\n  setEdit(note) {\n    let path = this.path;\n    if (!path.includes(':id')) {\n      path = `${path}/:id`;\n    }\n    const url = generatePath(path, { id: note.uid});\n\n    if (this.history.location.pathname !== url) {\n      this.history.push(url);\n    }\n  }\n\n  setBrowserTitle(note) {\n    if (note && note.title) {\n      document.title = `${note.title} | Mykonote`;\n    }\n    else {\n      document.title = 'Mykonote';\n    }\n  }\n}\n\nexport default PushState;\n","class SyncStorage {\n  static get KEY_PREFIX() {\n    return 'note-';\n  }\n\n  static set(note) {\n    localStorage.setItem(\n      SyncStorage._getKey(note),\n      note.toJson()\n    );\n  }\n\n  static get(note) {\n    return localStorage.getItem(SyncStorage._getKey(note));\n  }\n\n  static eachNote(callback) {\n    const keys = SyncStorage._getLocalStorageKeys();\n\n    for (let key of keys) {\n      const noteRaw = localStorage.getItem(key);\n      const note = JSON.parse(noteRaw);\n\n      callback(note, noteRaw);\n    }\n  }\n\n  static remove(note) {\n    localStorage.removeItem(SyncStorage._getKey(note));\n  }\n\n  static isEmpty() {\n    return SyncStorage._getLocalStorageKeys().length === 0;\n  }\n\n  static _getLocalStorageKeys() {\n    let keys = [];\n    const length = localStorage.length;\n\n    for (let i = 0; i < length; ++i) {\n      const key = localStorage.key(i);\n\n      if (key.startsWith(SyncStorage.KEY_PREFIX)) {\n        keys.push(key);\n      }\n    }\n\n    return keys;\n  }\n\n  static _getKey(note) {\n    return SyncStorage.KEY_PREFIX + note.uid;\n  }\n}\n\nexport default SyncStorage;\n","import { ajax, objectWithNestedKeys } from './ajax';\nimport SyncStorage from './SyncStorage';\nimport Note from './Note';\nimport AlertFlash from './AlertFlash';\n\nclass AutoSave {\n  constructor(onServerSync) {\n    this.onServerSyncCallback = onServerSync;\n\n    this.setSyncStatus();\n  }\n\n  static get POLLING_INTERVAL() {\n    return 3000;\n  }\n\n  startPolling() {\n    this.interval = setInterval(this.syncToServer.bind(this), AutoSave.POLLING_INTERVAL);\n  }\n\n  stopPolling() {\n    clearInterval(this.interval);\n  }\n\n  setChange(note) {\n    this.setSyncStatus(false);\n\n    SyncStorage.set(note);\n  }\n\n  syncToServer() {\n    if (this.syncInProgress) { return; }\n\n    this.syncInProgress = true;\n    const requests = [];\n\n    SyncStorage.eachNote((note, noteRaw) => {\n      const url = '/api/notes/' + note.uid;\n\n      const request = ajax(url, 'PUT', objectWithNestedKeys(note, 'note'));\n\n      requests.push(request);\n\n      request\n        // `serverNote` is just a partial note, the response doesn't contain all\n        // attributes\n        .then((serverNote) => this.ajaxDone(note, noteRaw, Note.fromAttributes(serverNote)))\n        .catch((error) => this.ajaxFail(error, url));\n    });\n\n    Promise.allSettled(requests).then(() => this.syncInProgress = false);\n  }\n\n  setSyncStatus(isSynced, serverNote) {\n    if (isSynced === undefined) {\n      isSynced = SyncStorage.isEmpty();\n    }\n\n    if (isSynced) {\n      window.onbeforeunload = undefined;\n    }\n    else {\n      window.onbeforeunload = function() {\n        return \"Behold! You have unsynchronized changes. \" +\n          \"If you leave the page now, your changes won't be saved to the server.\\n\" +\n          \"(Your data won't be lost, but it will only remain locally in your browser)\";\n      };\n    }\n    this.onServerSyncCallback({ isSynced: isSynced, note: serverNote });\n  }\n\n  ajaxDone(note, noteRaw, serverNote) {\n    // if the content is still the same -> clear from sync storage\n    const syncStorageRawNote = SyncStorage.get(note);\n    if (noteRaw === syncStorageRawNote) {\n      SyncStorage.remove(note);\n    }\n    else {\n      // update the server updated at in the sync storage item as well.  the\n      // content may have been updated in the meantime from the same source. if\n      // we don't do this we will get a conflict, which is not what we want in\n      // this case.\n      const note = Note.fromAttributes(JSON.parse(syncStorageRawNote));\n      note.serverUpdatedAt = serverNote.serverUpdatedAt;\n\n      SyncStorage.set(note);\n    }\n\n    this.setSyncStatus(undefined, serverNote);\n  }\n\n  ajaxFail(error, url) {\n    // being offline is not an error\n    if (!window.navigator.onLine) {\n      return;\n    }\n\n    if (error.status === 401) {\n      AlertFlash.show(\n        // we could actually link to the current page with `href=\"\"`, but by\n        // doing this the title input field contains the wrong value once we\n        // are redirected back after login (the value is loaded from the\n        // server, and the save request call doesn't update the title field).\n        // the cheap solution for now is to redirect to the root page, so the\n        // user has to click on the note, which will properly update the\n        // fields.\n        // TODO: use the current page link and fix the update of the title\n        // field\n        'Your session has expired. You need to <a href=\"/\" class=\"alert-link\">sign in</a> again.<br>' +\n        \"Your changes won't be lost, once you're signed in they will be saved to the server.\"\n      );\n    }\n    // \"Unprocessable entity\" is returned when a validation error occurs.\n    // the most common use case is when the number of notes allowed for the\n    // free subscription is exceeded.\n    else if (error.status === 422) {\n      AlertFlash.show(error.responseJson.errors.join('<br>'));\n    }\n    else {\n      AlertFlash.show('Something went sideways: ' + error.message);\n      console.error('url: ', url, 'error: ', error.toString());\n    }\n  }\n}\n\nexport default AutoSave;\n","import React, { Component } from 'react';\n\nclass Dialog extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = { show: !!props.show }\n  }\n\n  render() {\n    const id = Math.random().toString(16).slice(-12);\n\n    return (\n      <div className=\"modal\">\n        <input id={id} type=\"checkbox\" checked={this.state.show} onChange={() => {}} />\n        <label htmlFor={id} className=\"overlay\"></label>\n        <article>\n          <header>\n            <h3>{this.props.title}</h3>\n            <label htmlFor={id} className=\"close\" onClick={this.handleCancelButtonClick.bind(this)}>&times;</label>\n          </header>\n          <section className=\"content\" dangerouslySetInnerHTML={{ __html: this.props.text}}>\n          </section>\n          <footer>\n            <button className=\"button\" onClick={this.handleOkButtonClick.bind(this)}>Ok</button>\n            <label htmlFor={id} className=\"button dangerous\" onClick={this.handleCancelButtonClick.bind(this)}>\n              Cancel\n            </label>\n          </footer>\n        </article>\n      </div>\n    );\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ show: !!nextProps.show });\n  }\n\n  handleOkButtonClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.props.handleConfirmed(true);\n  }\n\n  handleCancelButtonClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.props.handleConfirmed(false);\n  }\n}\n\nexport default Dialog;\n","import React, { Component } from 'react';\nimport './SaveStateLabel.css';\n\nclass SaveStateLabel extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = { isSynced: props.isSynced };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ isSynced: nextProps.isSynced });\n  }\n\n  render () {\n    return (\n      this.state.isSynced\n        ?\n        <div className=\"save-state saved\">Saved</div>\n        :\n        <div className=\"save-state saving\">Saving</div>\n    );\n  }\n}\n\nexport default SaveStateLabel;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n});\n\nvar SvgAdd24Px = function SvgAdd24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAdd24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/add-24px.0e3e08bc.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport SaveStateLabel from './SaveStateLabel';\n\nimport { ReactComponent as NewIcon } from './icons/material/add-24px.svg';\n\nimport './ActionBar.css';\n\nexport class ActionBar extends Component { \n  render() {\n    return (\n      <div className=\"action-bar\">\n        {this.props.left ? this.props.left : <div className=\"icon big invisible\"></div>}\n\n        <SaveStateLabel isSynced={this.props.isSynced} />\n\n        <button name=\"new\" onClick={this.props.handleNewClicked.bind(this)} className=\"icon big\">\n          <NewIcon />\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default ActionBar;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n});\n\nvar SvgArrowBack24Px = function SvgArrowBack24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowBack24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow_back-24px.3bd6d7e4.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport ActionBar from './ActionBar';\n\nimport { ReactComponent as ShowListIcon } from './icons/material/arrow_back-24px.svg';\n\nexport class NoteActionBar extends Component { \n  render() {\n    let showListButtonClassName = 'icon big invisible-lg';\n    if (this.props.showList) {\n      showListButtonClassName += ' invisible';\n    }\n\n    return (\n      <ActionBar left={\n        <button onClick={this.props.handleShowListClicked.bind(this)} className={showListButtonClassName}>\n          <ShowListIcon />\n        </button>\n      }\n      {...this.props} />\n    );\n  }\n}\n\nexport default NoteActionBar;\n","import React, { Component } from 'react';\nimport './keyboard';\nimport { ajax } from './ajax';\nimport NoteList from './NoteList';\nimport NoteForm from './NoteForm';\nimport Note from './Note';\nimport PushState from  './PushState';\nimport Navbar from './Navbar';\nimport AlertFlash from './AlertFlash';\nimport EventHive from './EventHive';\nimport AutoSave from './AutoSave';\nimport SyncStorage from './SyncStorage';\nimport Dialog from './Dialog';\nimport NoteActionBar from './NoteActionBar';\nimport Flash from './Flash';\n\nclass NoteEdit extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    const { match } = this.props;\n\n    if (props.note) {\n      this.initStateFromNote(props.note);\n    }\n    else if (match.params.id) {\n      this.initStateFromNoteId(match.params.id);\n    }\n    else {\n      this.state = { ...this.getNewNoteAttributes(), showList: true };\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderHeaderBar()}\n        {this.renderContent()}\n        <Dialog\n          title='Archive'\n          text='Are you sure you want to archive this note?'\n          show={this.state.showArchiveDialog}\n          handleConfirmed={this.state.handleArchiveDialogConfirmed} />\n        <Dialog\n          title='Delete'\n          text='Are you sure you want to delete this note?'\n          show={this.state.showDeleteDialog}\n          handleConfirmed={this.state.handleDeleteDialogConfirmed} />\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.autoSave = new AutoSave(this.handleServerSync.bind(this));\n    this.autoSave.startPolling();\n\n    this.noteCreateSubscription = EventHive.subscribe('note.create', (data) => {\n      this.setNewNote(() => {\n        EventHive.publish('note.update', data);\n      });\n    });\n\n    this.noteNewSubscription = EventHive.subscribe('note.new', (data) => {\n      this.setNewNote();\n    });\n  }\n\n  componentWillUnmount() {\n    this.noteCreateSubscription.remove();\n    this.noteNewSubscription.remove();\n    this.autoSave.stopPolling();\n  }\n\n  renderHeaderBar() {\n    return (\n      <Navbar\n        isLoggedIn={true}\n        handleSearchEnter={this.handleSearchEnter.bind(this)}\n        handleSearchCleared={this.handleSearchCleared.bind(this)} />\n    );\n  }\n\n  renderContent() {\n    return (\n      <main>\n        <Flash />\n        <NoteActionBar\n          showList={this.state.showList}\n          isSynced={this.state.isSynced}\n          handleShowListClicked={this.handleShowListClicked.bind(this)}\n          handleNewClicked={this.handleNewNoteClicked.bind(this)} />\n        <div className=\"flex one two-900\">\n          <div className=\"full third-900 fourth-1200\">\n            <NoteList\n              activeNoteUid={this.state.note.uid}\n              isSynced={this.state.isSynced}\n              showList={this.state.showList}\n              searchQuery={this.state.searchQuery}\n              collection={this.props.collection}\n              handleNoteClick={this.handleNoteClick.bind(this)}\n              handleDeleteNoteClick={this.handleDeleteNoteClick.bind(this)}\n              handleArchiveNoteClick={this.handleArchiveNoteClick.bind(this)} />\n          </div>\n          <div className=\"full two-third-900 three-fourth-1200 padding-left-xl\">\n            <NoteForm\n              note={this.state.note}\n              handleChange={this.handleEditChange.bind(this)}\n              showForm={!this.state.showList} />\n          </div>\n        </div>\n      </main>\n    );\n  }\n\n  /* eslint-disable react/no-direct-mutation-state */\n  initStateFromNote(note) {\n    this.state = {\n      note: Note.fromAttributes(note)\n    };\n    new PushState(this.props.match, this.props.history).setBrowserTitle(note);\n  }\n\n  initStateFromNoteId(id) {\n    // set new note as state, otherwise the state will be undefined\n    this.state = {\n      showList: false,\n      ...this.getNewNoteAttributes()\n    };\n\n    ajax(`/api/notes/${id}`)\n      .then((data) => {\n        const note = Note.fromAttributes(data.note);\n        this.setState({\n          showList: false,\n          note: note\n        }, () => new PushState(this.props.match, this.props.history).setBrowserTitle(note));\n      })\n      .catch(() => {\n        AlertFlash.show(\n          'While trying to load the note the internet broke down (or something ' +\n            'else failed, maybe the note could not be found)'\n        );\n      })\n  }\n  /* eslint-enable react/no-direct-mutation-state */\n\n  handleNoteClick(note, e) {\n    e.preventDefault();\n\n    this.setState({ note: note, showList: false });\n    const pushState = new PushState(this.props.match, this.props.history);\n    pushState.setEdit(note);\n    pushState.setBrowserTitle(note);\n  }\n\n  handleDeleteNoteClick(note, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const handler = (confirmed) => {\n      this.setState({ showDeleteDialog: false });\n\n      if (confirmed) {\n        this.setState({ isSynced: false });\n        this.deleteNote(note);\n      }\n    };\n    this.setState({ showDeleteDialog: true, handleDeleteDialogConfirmed: handler.bind(this) });\n  }\n\n  handleArchiveNoteClick(note, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const handler = (confirmed) => {\n      this.setState({ showArchiveDialog: false });\n\n      if (confirmed) {\n        note.setArchived();\n        this.handleEditChange(note)\n        this.setNewNote();\n      }\n    };\n    this.setState({ showArchiveDialog: true, handleArchiveDialogConfirmed: handler.bind(this) });\n  }\n\n  handleNewNoteClicked() {\n    this.setNewNote();\n  }\n\n  handleShowListClicked() {\n    this.setNewNote(() => this.setState({ showList: true }));\n  }\n\n  handleEditChange(note) {\n    new PushState(this.props.match, this.props.history).setEdit(note);\n\n    this.autoSave.setChange(note);\n  }\n\n  handleServerSync(data) {\n    let state = { isSynced: data.isSynced, listNeedsUpdate: true };\n    // when a note has been synced we need to set the serverUpdatedAt timestamp\n    // for the conflict detection to work\n    // (only do this if the current note is the synced note)\n    if (data.note && this.state.note.uid === data.note.uid) {\n      state.note = this.state.note;\n      state.note.serverUpdatedAt = data.note.serverUpdatedAt;\n    }\n    this.setState(state);\n\n    if (data.isSynced) {\n      new PushState(this.props.match, this.props.history).setBrowserTitle(this.state.note);\n    }\n  }\n\n  handleSearchEnter(value) {\n    // show the list in case a note was shown\n    this.setState({ searchQuery: value, showList: true });\n  }\n\n  handleSearchCleared() {\n    this.setState({ searchQuery: '' });\n  }\n\n  getNewNoteAttributes() {\n    return { note: new Note() }\n  }\n\n  setNewNote(afterSetState) {\n    this.setState({ ...this.getNewNoteAttributes(), showList: false }, afterSetState);\n    const pushState = new PushState(this.props.match, this.props.history);\n    pushState.setNew();\n    pushState.setBrowserTitle();\n  }\n\n  deleteNote(note) {\n    ajax(`/api/notes/${note.uid}`, 'DELETE')\n      .then((data) => {\n        SyncStorage.remove(note);\n\n        if (this.state.note.uid === note.uid) {\n          this.setNewNote();\n        }\n\n        this.setState({ isSynced: true, listNeedsUpdate: true });\n      })\n      .catch((error) => {\n        let message = 'Oh my, the note could not be deleted.';\n        if (!window.navigator.onLine) {\n          message += \"<br>Please check your internet connection (Apologies, deleting in offline mode is not yet suppported).\"\n        }\n        AlertFlash.show(message);\n        console.error('note.uid: ', note.uid, 'error: ', error.toString());\n\n        this.setState({ isSynced: true, listNeedsUpdate: false });\n      })\n      .finally(() => {\n      });\n  }\n}\n\nexport default NoteEdit;\n","import React, { Component } from 'react';\n\nimport './Task.css';\n\nclass Task extends Component {\n  render() {\n    return (\n      <label className=\"task\">\n        <input\n          type=\"checkbox\"\n          checked={this.props.task.done}\n          onChange={this.handleTaskChecked.bind(this, this.props.note, this.props.task)} />\n\n        <span className=\"checkable\">{this.props.task.title}</span>\n      </label>\n    );\n  }\n\n  handleTaskChecked(e) {\n    this.props.handleTaskChecked(\n      this.props.note,\n      { ...this.props.task, done: !this.props.task.done },\n      e\n    );\n  }\n}\n\nexport default Task;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"\n});\n\nvar SvgExpandLessBlack24Dp = function SvgExpandLessBlack24Dp(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgExpandLessBlack24Dp, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/expand_less_black_24dp.289667ca.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport Task from './Task';\n\nimport { ReactComponent as MoreIcon } from './icons/material/expand_more-24px.svg';\nimport { ReactComponent as LessIcon } from './icons/material/expand_less_black_24dp.svg';\n\nclass TaskGroup extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      showDone: false\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"card\">\n        <header>\n          {this.props.note.title}\n        </header>\n        {this.renderTodo()}\n        {this.renderDone()}\n      </div>\n    );\n  }\n\n  renderTodo() {\n    const todo = this.props.note.tasks.filter(task => !task.done);\n\n    return (\n      <div>\n        {todo.length > 0 ?\n          <footer>\n            {todo.map(task => this.renderTask(task))}\n          </footer>\n          :\n          null\n        }\n      </div>\n    );\n  }\n\n  renderDone() {\n    const done = this.props.note.tasks.filter(task => task.done);\n\n    return (\n      <div>\n        {done.length > 0 ?\n          <footer>\n            <button name=\"toggle-done\" className='icon left-aligned full-width' onClick={() => this.setState({ showDone: !this.state.showDone })}>\n              { this.state.showDone ?\n                <LessIcon /> :\n                <MoreIcon />\n              }\n            </button>\n\n            <div className={ this.state.showDone ? null : \"collapsed\"}>\n              {done.map(task => this.renderTask(task))}\n            </div>\n          </footer>\n          :\n          null\n        }\n      </div>\n    );\n  }\n\n  renderTask(task) {\n    return (\n      <Task\n        key={task.id}\n        note={this.props.note}\n        task={task}\n        handleTaskChecked={this.props.handleTaskChecked.bind(this)} />\n    );\n  }\n}\n\nexport default TaskGroup;\n","import React, { Component } from 'react';\nimport Navbar from './Navbar';\nimport ActionBar from './ActionBar';\nimport Flash from './Flash';\nimport AlertFlash from './AlertFlash';\nimport AutoSave from './AutoSave';\nimport Note from './Note';\nimport TaskGroup from './TaskGroup';\nimport SearchTerm from './SearchTerm';\nimport LoadMoreButton from './LoadMoreButton';\nimport { ajax } from './ajax';\n\nclass TaskEdit extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      notes: [],\n      currentPage: 1,\n      searchQuery: undefined,\n      filter: 'todo',\n      hasMorePages: false,\n      isLoadingMorePages: true\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Navbar\n          isLoggedIn={true}\n          handleSearchEnter={this.handleSearchEnter.bind(this)}\n          handleSearchCleared={this.handleSearchCleared.bind(this)} />\n\n        <main>\n          <Flash />\n          <ActionBar\n            handleNewClicked={() => this.props.history.push('/notes')}\n            isSynced={this.state.isSynced} />\n          <div className=\"flex one\">\n            <div className=\"full\">\n              <SearchTerm searchQuery={this.state.searchQuery} />\n              <div className=\"view-filter\">\n                <select name=\"view-filter\" onChange={this.handleFilterChanged.bind(this)}>\n                  <option value=\"todo\">Show todos</option>\n                  <option value=\"\">Show all</option>\n                </select>\n              </div>\n              {this.renderEmpty()}\n              {this.state.notes.map((note) =>\n                <TaskGroup\n                  key={note.uid}\n                  note={note}\n                  handleTaskChecked={this.handleTaskChecked.bind(this)} />\n              )}\n              <LoadMoreButton\n                showLoadMoreButton={this.state.hasMorePages}\n                showSpinner={this.state.isLoadingMorePages}\n                handleLoadMoreClick={this.handleLoadMoreClick.bind(this)} />\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.autoSave = new AutoSave(this.handleServerSync.bind(this));\n    this.autoSave.startPolling();\n  }\n\n  componentWillUnmount() {\n    this.autoSave.stopPolling();\n  }\n\n  renderEmpty() {\n    if (this.state.notes.length > 0) { return; }\n\n    return (\n      <div>There's nothing</div>\n    );\n  }\n\n  handleTaskChecked(note, task, e) {\n    // update the task so the change is immediately rendered, otherwise the UI\n    // updates only after the next auto poll cycle is done.\n    const associatedNote= this.state.notes.find(collectionNote => collectionNote.uid === note.uid);\n    const taskIndex = associatedNote.tasks.findIndex(collectionTask => collectionTask.id === task.id);\n    associatedNote.tasks[taskIndex] = task;\n\n    // create a temporary html element so we can easily query the task element\n    // and toggle the checked class\n    const noteContentElement = document.createElement('div');\n    noteContentElement.innerHTML = note.content;\n    const taskElement = noteContentElement.querySelector(`[data-task-id=\"${task.id}\"]`);\n    taskElement.classList.toggle('checked');\n\n    associatedNote.content = noteContentElement.innerHTML;\n\n    this.autoSave.setChange(Note.fromAttributes(associatedNote));\n  }\n\n  handleServerSync(data) {\n    if (data.isSynced) {\n      this.fetchTasks();\n    }\n    this.setState({ isSynced: data.isSynced });\n  }\n\n  handleSearchEnter(value) {\n    this.setState({ searchQuery: value }, () => {\n      this.fetchTasks();\n    });\n  }\n\n  handleSearchCleared() {\n    this.setState({ searchQuery: '' }, () => {\n      this.fetchTasks();\n    });\n  }\n\n  handleFilterChanged(e) {\n    this.setState({ filter: e.target.value }, () => {\n      this.fetchTasks();\n    });\n  }\n\n  handleLoadMoreClick(e) {\n    this.setState({ isLoadingMorePages: true });\n\n    this.setState({ currentPage: this.state.currentPage + 1 }, () => {\n      this.fetchTasks();\n    });\n  }\n\n  fetchTasks() {\n    const params = {\n      search: this.state.searchQuery,\n      page: this.state.currentPage\n    };\n\n    if (this.state.filter) {\n      params['filters[]'] = this.state.filter;\n    }\n\n    ajax('/api/task_notes', 'GET', params)\n      .then((data) => {\n        this.setState({\n          notes: data.notes,\n          hasMorePages: data.has_more_pages,\n          isLoadingMorePages: false\n        });\n      })\n      .catch((error) => {\n        AlertFlash.show('Fetching the tasks failed.');\n        console.error('url: ', this.props.url, 'error: ', error.toString());\n      });\n  }\n}\n\nexport default TaskEdit;\n","import React, { Component, Suspense } from 'react';\nimport { HashRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\nimport { ajax } from './ajax';\nimport NoteEdit from './NoteEdit';\nimport TaskEdit from './TaskEdit';\nimport './App.css';\nimport './fonts/roboto.css';\n\nconst LoginForm = React.lazy(() => import('./LoginForm'));\nconst RegistrationForm = React.lazy(() => import('./RegistrationForm'));\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoggedIn: null\n    };\n\n    this.setIsLoggedIn();\n  }\n\n  render() {\n    return (\n      <Router>\n        <div>\n          { this.renderLoggedIn() }\n          { this.renderLoggedOut() }\n        </div>\n      </Router>\n    );\n  }\n\n  onLoginSuccess() {\n    this.setState({ isLoggedIn: true });\n  }\n\n  setIsLoggedIn() {\n    ajax('/users/is_authenticated')\n      .then(() => this.onLoginSuccess())\n      .catch(() => this.setState({ isLoggedIn: false }));\n  }\n\n  renderLoggedIn() {\n    if (this.state.isLoggedIn === true) {\n      return (\n        <Switch>\n          <Route path={['/notes/:id', '/notes']} render={ (props) => this.renderNoteEdit(props, 'notes') } />\n          <Route path={['/task-notes/:id', '/task-notes']} render={ (props) => this.renderNoteEdit(props, 'task_notes') } />\n          <Route path={['/tasks/:id', '/tasks']} render={ (props) => <TaskEdit {...props} /> } />\n          <Redirect from='/' to='/notes' />\n        </Switch>\n      );\n    }\n  }\n\n  renderLoggedOut() {\n    if (this.state.isLoggedIn === false) {\n      return (\n        <Switch>\n          <Route path='/register' render={props => (\n            <Suspense fallback={<div></div>}>\n              <RegistrationForm onLoginSuccess={this.onLoginSuccess.bind(this)} {...props} />\n            </Suspense>\n          )}/>\n\n          <Route path='/login' render={props => (\n            <Suspense fallback={<div></div>}>\n              <LoginForm onLoginSuccess={this.onLoginSuccess.bind(this)} alwaysRememberMe={window.ALWAYS_REMEMBER_ME} />\n            </Suspense>\n          )}/>\n\n          <Redirect to='/login' />\n        </Switch>\n      );\n    }\n  }\n\n  renderNoteEdit(routerProps, collection) {\n    return (\n      <NoteEdit\n        {...routerProps}\n        collection={collection} />\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import EventHive from './EventHive';\nimport NoticeFlash from './NoticeFlash';\nimport AlertFlash from './AlertFlash';\n\n// expose certain globals that are needed by the mobile app\nexport default function setGlobals() {\n  window.EventHive = EventHive;\n  window.NoticeFlash = NoticeFlash;\n  window.AlertFlash = AlertFlash;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport setGlobals from './setGlobals';\n\nsetGlobals();\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n","import React, { Component } from 'react';\nimport NoticeFlash from './NoticeFlash';\nimport AlertFlash from './AlertFlash';\n\nimport './Flash.css';\n\nclass Flash extends Component {\n  render() {\n    return (\n      <div>\n        <NoticeFlash />\n        <AlertFlash />\n      </div>\n    );\n  }\n}\n\nexport default Flash;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z\"\n});\n\nvar SvgLogout24Px = function SvgLogout24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogout24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logout-24px.bfe22dd0.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { ajax } from './ajax';\nimport AlertFlash from './AlertFlash';\nimport { scrollToTop } from './scroll';\n\nimport { ReactComponent as LogoutIcon } from './icons/material/logout-24px.svg';\n\nclass Logout extends Component {\n  render() {\n    return (\n      <button name=\"logout\" onClick={this.handleClicked.bind(this)} className=\"icon-lg big pseudo\">\n        <LogoutIcon />\n        <span className=\"icon-lg-text\">Logout</span>\n      </button>\n    );\n  }\n\n  handleClicked(e) {\n    e.preventDefault();\n\n    ajax('/users/sign_out', 'DELETE')\n      .then(() => {\n        window.location.reload();\n      })\n      .catch(() => {\n        AlertFlash.show('Apologies, logging out did not happen.')\n      })\n      .finally(scrollToTop);\n  }\n}\n\nexport default withRouter(Logout);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  fill: \"#008bce\",\n  cx: 46.28,\n  cy: 46.28,\n  r: 46.28\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M44.84 43.38a2.9 2.9 0 1 0 2.9 2.9 2.9 2.9 0 0 0-2.9-2.9z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M46.33 34.07A153.13 153.13 0 0 0 62.48 48.6a7.53 7.53 0 0 0-1.78 2 5.42 5.42 0 0 0 .24 6.33 6.65 6.65 0 0 0 5.24 2.52 5.14 5.14 0 0 0 4-2 5.91 5.91 0 0 0 1.29-4.58 6.07 6.07 0 0 0-.63-1.9 9.3 9.3 0 0 1 5.29 3.91 10.11 10.11 0 0 1 1.35 7.82c-.95 3.12-2.28 5.68-5.85 7.22-9.31 4-17.49-3.8-21.45-8.65-.69-.85-1.4-1.59-2.25-.89s-.51 1.68.1 2.59a26.32 26.32 0 0 0 10.55 9.65 16.44 16.44 0 0 0 13.94.79 14.39 14.39 0 0 0 8.41-9.29 13.43 13.43 0 0 0-1.44-10.74 13.64 13.64 0 0 0-8.92-6.5 11 11 0 0 0-3.92-.11 143.91 143.91 0 0 1-16.53-14.48c5.13-3.33 6.21-7.84 5.7-17.9l-.15-2.84-2.62 1.12c-6.17 2.63-9.77 5.82-10.59 10.48a13.11 13.11 0 0 0 1 7.58 23.71 23.71 0 0 1-6.88.23c-.18-6.56-2.22-15.45-12.79-18.53l-2.61-.88v2.75c.14 14.12 5.55 19.06 11.16 20.06h.23v.19c-.13 5-5 27.79-18.86 44.59q1.41 1.4 2.95 2.68C30.83 65 36.22 41.76 36.54 34.92a24.41 24.41 0 0 0 9.79-.85zm19.41 17.79a2.42 2.42 0 1 1-2.42 2.42 2.42 2.42 0 0 1 2.42-2.42zm-19.36-28a11.09 11.09 0 0 1 6.46-7.67c.44 7.76-2.18 11.32-5.49 13.15l-.19-.21c-.69-.82-1.1-3.53-.78-5.3zm-22.43-8.18c7.67 2.9 8.47 9.58 8.66 14.73-3.63-.94-7.85-5.58-8.66-14.76z\"\n});\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 92.57 92.57\",\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.8ad1a424.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Spinner from './Spinner';\nimport EventHive from './EventHive';\nimport { ReactComponent as LogoImage } from './images/logo.svg';\n\nclass Logo extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = { showSpinner: false };\n  }\n  render() {\n    return (\n      <Link to='/' className=\"brand\">\n        {this.state.showSpinner ? (\n          <div className=\"logo\">\n            <Spinner />\n          </div>\n        ) : (\n          <LogoImage className=\"logo\" />\n        )}\n      </Link>\n    );\n  }\n\n  componentDidMount() {\n    this.subscribeSpinner();\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeSpinner();\n  }\n\n  subscribeSpinner() {\n    // listen on global event so we can toggle the spinner from unrelated\n    // components\n    this.spinnerSubscription = EventHive.subscribe('spinner.toggle', (data) => {\n      this.setState({ showSpinner: data.show });\n    });\n  }\n\n  unsubscribeSpinner() {\n    this.spinnerSubscription.remove();\n  }\n}\n\nexport default Logo;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n});\n\nvar SvgSearchBlack24Dp = function SvgSearchBlack24Dp(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSearchBlack24Dp, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/search_black_24dp.c92fb71c.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport { debounce } from 'throttle-debounce';\nimport EventHive from './EventHive';\n\nimport { ReactComponent as SearchIcon } from './icons/material/search_black_24dp.svg';\n\nimport './SearchBox.css';\n\nclass SearchBox extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      value: '',\n      isActive: false\n    }\n\n    this.handleSearchEnterDebounced = debounce(500, this.handleSearchEnterDebounced);\n  }\n\n  render() {\n    return (\n      <div className=\"search vertically-aligned\">\n        <input\n          type=\"text\"\n          className=\"search-input\"\n          name=\"search\"\n          value={this.state.value}\n          onChange={this.handleSearchEnter.bind(this)}\n          onFocus={() => this.setState({ isActive: true })}\n          onBlur={() => this.setState({ isActive: false })}\n          ref={(c) => this.searchInput = c} />\n        {this.state.value !== '' &&\n          <button\n            type=\"button\"\n            className=\"search-clear\"\n            onClick={this.handleSearchCleared.bind(this)}></button>\n        }\n        {!this.state.isActive && this.state.value === '' &&\n          <SearchIcon onClick={() => this.searchInput.focus()} className=\"search-icon\" />\n        }\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.subscribeSearch();\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeSearch();\n  }\n\n  handleSearchEnter(e) {\n    const value = e.target.value;\n    this.setState({ value: value }, this.handleSearchEnterDebounced);\n  }\n\n  handleSearchEnterDebounced() {\n    this.props.handleSearchEnter(this.state.value);\n  }\n\n  handleSearchCleared(e) {\n    e.target.blur();\n    this.setState({ value: '' });\n    this.props.handleSearchCleared();\n  }\n\n  subscribeSearch() {\n    this.searchSubscription = EventHive.subscribe('search.focus', () => {\n      this.searchInput.focus();\n    });\n  }\n\n  unsubscribeSearch() {\n    this.searchSubscription.remove();\n  }\n}\n\nexport default SearchBox;\n","export function isFeatureEnabled(name) {\n  // enable all features for browser tests\n  if (navigator.webdriver) { return true; }\n\n  const item = localStorage.getItem(`feature-${name}`);\n  return !!JSON.parse(item);\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n});\n\nvar SvgClose24Px = function SvgClose24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClose24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close-24px.b840e171.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Logout from './Logout';\nimport Logo from './Logo';\nimport SearchBox from './SearchBox';\nimport { isFeatureEnabled } from './feature';\n\nimport { ReactComponent as CloseIcon } from './icons/material/close-24px.svg';\n\nimport './Navbar.css';\n\nclass Navbar extends Component {\n  render() {\n    return (\n      <nav>\n        <Logo />\n\n        {this.props.isLoggedIn && <SearchBox handleSearchEnter={this.props.handleSearchEnter} handleSearchCleared={this.props.handleSearchCleared} />}\n\n        <input id=\"bmenug\" type=\"checkbox\" className=\"show\" ref={c => this.showHamburger = c} />\n        <label htmlFor=\"bmenug\" className=\"burger pseudo button\">&#8801;</label>\n\n        <div className=\"menu\">\n          { isFeatureEnabled('tasks') &&\n            <NavLink to=\"/notes\" className=\"button pseudo\">All notes</NavLink>\n          }\n          { isFeatureEnabled('tasks') &&\n            <NavLink to=\"/task-notes\" className=\"button pseudo\">Task notes</NavLink>\n          }\n          { isFeatureEnabled('tasks') &&\n            <NavLink to=\"/tasks\" className=\"button pseudo\">Tasks</NavLink>\n          }\n\n          <button\n            className=\"icon close-hamburger hidden-lg\"\n            onClick={this.handleCloseHamburgerClicked.bind(this)}>\n            <CloseIcon />\n          </button>\n\n          {this.props.isLoggedIn ? <Logout /> : null}\n        </div>\n      </nav>\n    );\n  }\n\n  handleCloseHamburgerClicked() {\n    this.showHamburger.checked = false;\n  }\n}\n\nexport default Navbar;\n","import AbstractFlash from './AbstractFlash';\n\nclass NoticeFlash extends AbstractFlash {\n  getName() {\n    return 'notice';\n  }\n\n  getAdditionalCssClass() {\n    return 'success';\n  }\n}\n\nexport default NoticeFlash;\n","import React, { Component } from 'react';\n\nclass AbstractFlash extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = { message: props.message };\n  }\n\n  render () {\n    if (!this.state.message) {\n      return null;\n    }\n\n    return (\n      <div className=\"flex center\">\n        <div className=\"hidden-sm\"></div>\n\n        <div className='full third-1000'>\n          <div className={this.getCssClass()}>\n            <footer dangerouslySetInnerHTML={{ __html: this.state.message }} />\n            <button className=\"close icon\" type=\"button\" onClick={this.handleClose.bind(this)}></button>\n          </div>\n        </div>\n\n        <div className=\"hidden-sm\"></div>\n      </div>\n    );\n  }\n\n  getCssClass() {\n    var cssClasses = ['card', this.getAdditionalCssClass()];\n\n    return cssClasses.join(' ');\n  }\n\n  handleClose() {\n    this.setState({ message: null });\n  }\n\n  componentDidMount() {\n    // listen on global event so we can use `NoticeFlash.show('hello')`\n    document.addEventListener(this.constructor.getEventName(), this.handleEvent.bind(this), false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(this.constructor.getEventName(), this.handleEvent.bind(this), false);\n  }\n\n  handleEvent(e) {\n    this.setState({ message: e.detail.message });\n  }\n\n  getAdditionalCssClass() {\n  }\n\n  getName() {\n  }\n\n  static getEventName() {\n    return 'mykonote.flash.' + this.prototype.getName();\n  }\n\n  static show(message) {\n    const e = new CustomEvent(this.getEventName(), { detail: { message: message } });\n    document.dispatchEvent(e);\n  }\n\n  static clear() {\n    const e = new CustomEvent(this.getEventName(), { detail: { message: null } });\n    document.dispatchEvent(e);\n  }\n}\n\nexport default AbstractFlash;\n","import React from 'react';\nimport './Spinner.css';\n\nfunction Spinner() {\n  return (\n    <svg\n      className=\"spinner\"\n      viewBox=\"0 0 66 66\"\n      xmlns=\"http://www.w3.org/2000/svg\">\n      <circle\n        className=\"path\"\n        fill=\"none\"\n        strokeWidth=\"6\"\n        strokeLinecap=\"round\"\n        cx=\"33\"\n        cy=\"33\"\n        r=\"30\"></circle>\n    </svg>\n  );\n}\n\nexport default Spinner;\n","export function scrollToTop() {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n","module.exports = __webpack_public_path__ + \"static/media/short_text-24px.0c7dd082.svg\";","// credits to https://davidwalsh.name/pubsub-javascript\nclass EventHive {\n  static get topics() {\n    if (typeof this._topics === 'undefined') {\n      this._topics = {};\n    }\n    return this._topics;\n  }\n\n  static subscribe(topic, listener) {\n    // Create the topic's object if not yet created\n    if (!this.topics.hasOwnProperty.call(this.topics, topic)) {\n      this.topics[topic] = [];\n    }\n\n    // Add the listener to queue\n    var index = this.topics[topic].push(listener) -1;\n\n    // Provide handle back for removal of topic\n    return {\n      remove: () => {\n        delete this.topics[topic][index];\n      }\n    };\n  }\n\n  static publish(topic, info) {\n    // If the topic doesn't exist, or there's no listeners in queue, just leave\n    if (!this.topics.hasOwnProperty.call(this.topics, topic)) {\n      return;\n    }\n\n    // Cycle through topics queue, fire!\n    this.topics[topic].forEach(function(item) {\n      item(info !== undefined ? info : {});\n    });\n  }\n}\n\nexport default EventHive;\n","import AbstractFlash from './AbstractFlash';\n\nclass AlertFlash extends AbstractFlash {\n  getName() {\n    return 'alert';\n  }\n\n  getAdditionalCssClass() {\n    return 'warning';\n  }\n}\n\nexport default AlertFlash;\n"],"sourceRoot":""}