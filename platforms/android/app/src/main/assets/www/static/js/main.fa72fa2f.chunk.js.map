{"version":3,"sources":["AlertFlash.js","keyboard.js","Uuid.js","Note.js","icons/material/archive-24px.svg","icons/material/delete-24px.svg","icons/material/expand_more-24px.svg","NoteList.js","highlight.js","NoteForm.js","PushState.js","SyncStorage.js","AutoSave.js","Dialog.js","SaveStateLabel.js","icons/material/arrow_back-24px.svg","icons/material/add-24px.svg","ActionBar.js","NoteEdit.js","App.js","registerServiceWorker.js","setGlobals.js","setApiHost.js","index.js","registerGlobalSpinner.js","NoticeFlash.js","AbstractFlash.js","Spinner.js","scroll.js","Flash.js","icons/material/logout-24px.svg","Logout.js","images/logo.svg","icons/material/close-24px.svg","Navbar.js","icons/material/short_text-24px.svg","EventHive.js"],"names":["AlertFlash","AbstractFlash","Mousetrap","prototype","stopCallback","bind","EventHive","publish","Uuid","replace","c","r","Math","random","toString","Note","uid","title","content","createdAt","updatedAt","archivedAt","Object","classCallCheck","this","_uid","generateV4","_title","_content","_createdAt","Date","_updatedAt","_serverUpdatedAt","_archivedAt","JSON","stringify","created_at","toISOString","updated_at","server_updated_at","serverUpdatedAt","archived_at","attributes","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","react_default","a","createElement","d","fill","_ref3","archive_24px_SvgArchive24Px","_ref","svgRef","props","height","viewBox","width","ref","ForwardRef","forwardRef","__webpack_require__","p","delete_24px_extends","delete_24px_objectWithoutProperties","delete_24px_objectWithoutPropertiesLoose","delete_24px_ref2","delete_24px_ref3","delete_24px_SvgDelete24Px","delete_24px_ForwardRef","expand_more_24px_extends","expand_more_24px_objectWithoutProperties","expand_more_24px_objectWithoutPropertiesLoose","expand_more_24px_ref2","expand_more_24px_ref3","expand_more_24px_SvgExpandMore24Px","expand_more_24px_ForwardRef","NoteList","context","_this","possibleConstructorReturn","getPrototypeOf","state","notes","currentPage","hasMorePages","isSynced","showMoreLink","searchQuery","undefined","className","getListCssClass","renderList","renderNextPageLink","renderListSpinner","_this2","renderEmptyListItem","map","note","renderListItem","getListItemCssClass","onClick","handleNoteClick","renderNotePicture","data-tooltip","humanDate","prettyPrint","showTime","relativeTime","handleArchiveNoteClick","handleDeleteNoteClick","handleNextPageClick","Spinner","cssClass","isActiveNote","activeNoteUid","showList","listNeedsUpdate","updateList","nextProps","setState","e","_this3","preventDefault","$","currentTarget","blur","updateListRequest","abort","ajax","url","dataType","data","search","page","executeUpdateListRequest","_this4","done","fromAttributes","current_page","has_more_pages","fail","xhr","status","error","show","console","match","getPreviewImageUrl","defaultNotePicture","style","backgroundImage","concat","backgroundRepeat","backgroundSize","Component","highlight","registerLanguage","asciidoc","bash","basic","clean","clojure","cmake","coffeescript","cpp","crystal","csharp","css","dart","diff","dockerfile","ebnf","elixir","elm","erb","erlang","fsharp","gherkin","go","gradle","groovy","haml","handlebars","htmlbars","http","ini","java","javascript","json","kotlin","less","lisp","llvm","makefile","markdown","mathematica","matlab","nginx","objectivec","perl","pgsql","php","plaintext","powershell","prolog","properties","python","ruby","rust","scala","scss","shell","sql","stylus","swift","latex","typescript","vim","xml","yaml","window","hljs","NoteForm","shouldRerender","showForm","formContainerElement","onSubmit","handleFormSubmit","renderTitle","renderContent","type","value","onChange","handleTitleChange","placeholder","titleElement","contentContainerElement","handleChange","contentElement","innerHTML","_this5","focusTitleFieldIfNewNote","renderEditor","subscribe","editor","pasteHTML","off","setText","history","clear","update","on","handleContentChange","_this6","nextState","Quill","theme","modules","syntax","toolbar","header","color","background","list","indent","task-list","querySelector","isNew","focus","PushState","push","location","pathname","document","SyncStorage","localStorage","setItem","_getKey","toJson","getItem","callback","_step","_iterator","_createForOfIteratorHelper","_getLocalStorageKeys","s","n","noteRaw","parse","err","f","removeItem","startsWith","KEY_PREFIX","AutoSave","onServerSync","onServerSyncCallback","setSyncStatus","setInterval","syncToServer","POLLING_INTERVAL","set","active","eachNote","method","serverNote","ajaxDone","ajaxFail","isEmpty","onbeforeunload","syncStorageRawNote","get","remove","readyState","responseJSON","errors","join","Dialog","id","slice","checked","htmlFor","handleCancelButtonClick","dangerouslySetInnerHTML","__html","text","handleOkButtonClick","stopPropagation","handleConfirmed","SaveStateLabel","arrow_back_24px_extends","arrow_back_24px_objectWithoutProperties","arrow_back_24px_objectWithoutPropertiesLoose","arrow_back_24px_ref2","arrow_back_24px_ref3","arrow_back_24px_SvgArrowBack24Px","arrow_back_24px_ForwardRef","add_24px_extends","add_24px_objectWithoutProperties","add_24px_objectWithoutPropertiesLoose","add_24px_ref2","add_24px_ref3","add_24px_SvgAdd24Px","add_24px_ForwardRef","ActionBar","_Component","inherits","createClass","showListButtonClassName","handleShowListClicked","src_SaveStateLabel_0","handleNewNoteClicked","NoteEdit","pushState","initStateFromNote","params","initStateFromNoteId","objectSpread","getNewNoteAttributes","handleSearchEnterDebounced","debounce","renderHeaderBar","src_Dialog","showArchiveDialog","handleArchiveDialogConfirmed","showDeleteDialog","handleDeleteDialogConfirmed","autoSave","handleServerSync","startPolling","setNewNote","Navbar","isLoggedIn","handleSearchEnter","handleSearchCleared","Flash","src_ActionBar_0","src_NoteList_0","src_NoteForm_0","handleEditChange","setBrowserTitle","setEdit","confirmed","deleteNote","setArchived","setChange","persist","afterSetState","setNew","_this7","message","always","LoginForm","React","lazy","then","RegistrationForm","App","setIsLoggedIn","HashRouter","renderLoggedIn","renderLoggedOut","onLoginSuccess","Switch","Route","path","component","Redirect","from","to","render","react","fallback","alwaysRememberMe","ALWAYS_REMEMBER_ME","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","catch","NoticeFlash","API_HOST","ajaxPrefilter","options","ReactDOM","src_App_0","getElementById","URL","process","origin","addEventListener","fetch","response","headers","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","timeoutId","ajaxStart","clearTimeout","setTimeout","ajaxStop","registerGlobalSpinner","_home_lex_src_mykonote_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_lex_src_mykonote_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_lex_src_mykonote_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_5___default","getCssClass","handleClose","getAdditionalCssClass","constructor","getEventName","getName","trigger","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","xmlns","strokeWidth","strokeLinecap","cx","cy","__webpack_exports__","scrollToTop","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","animate","scrollTop","_NoticeFlash__WEBPACK_IMPORTED_MODULE_6__","_AlertFlash__WEBPACK_IMPORTED_MODULE_7__","logout_24px_SvgLogout24Px","Logout","handleClicked","withRouter","logo_extends","logo_objectWithoutProperties","logo_objectWithoutPropertiesLoose","logo_ref2","logo_ref3","_ref4","logo_SvgLogo","logo_ForwardRef","close_24px_extends","close_24px_objectWithoutProperties","close_24px_objectWithoutPropertiesLoose","close_24px_ref2","close_24px_ref3","close_24px_SvgClose24Px","close_24px_ForwardRef","showSpinner","renderLogo","renderSearchBox","showHamburger","handleCloseHamburgerClicked","src_Logout","Link","subscribeSpinner","subscribeSearch","$searchInput","val","select","module","exports","topic","listener","topics","index","info","forEach","item","_topics"],"mappings":"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","file":"static/js/main.fa72fa2f.chunk.js","sourcesContent":["import AbstractFlash from './AbstractFlash';\n\nclass AlertFlash extends AbstractFlash {\n  getName() {\n    return 'alert';\n  }\n\n  getAdditionalCssClass() {\n    return 'warning';\n  }\n}\n\nexport default AlertFlash;\n","import Mousetrap from 'mousetrap'\nimport EventHive from './EventHive';\n\n// always fire shortcuts inside input fields\nMousetrap.prototype.stopCallback = function() { return false }\n\nMousetrap.bind('alt+shift+f', function() {\n  EventHive.publish('search.focus');\n\n  return false;\n});\n\nMousetrap.bind('alt+shift+n', function() {\n  EventHive.publish('note.new');\n\n  return false;\n});\n","class Uuid  {\n  static generateV4() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      var r = Math.random() * 16 | 0, v = c === 'x' ? r : ((r & 0x3) | 0x8);\n      return v.toString(16);\n    });\n  }\n}\n\nexport default Uuid;\n","import Uuid from './Uuid';\n\nclass Note {\n  constructor(uid, title, content, createdAt, updatedAt, archivedAt) {\n    this._uid = uid || Uuid.generateV4();\n    this._title = title || '';\n    this._content = content || '';\n    this._createdAt = createdAt || new Date();\n    this._updatedAt = updatedAt || this._createdAt;\n    this._serverUpdatedAt = this._updatedAt;\n    this._archivedAt = archivedAt;\n  }\n\n  get uid() { return this._uid }\n\n  get title() { return this._title }\n  set title(title) {\n    this._updatedAt = new Date();\n    this._title = title;\n  }\n\n  get content() { return this._content }\n  set content(content) {\n    this._updatedAt = new Date();\n    this._content = content;\n  }\n\n  get createdAt() { return this._createdAt }\n  get updatedAt() { return this._updatedAt }\n\n  get serverUpdatedAt() { return this._serverUpdatedAt }\n  set serverUpdatedAt(serverUpdatedAt) { this._serverUpdatedAt = serverUpdatedAt }\n\n  get archivedAt() { return this._archivedAt; }\n\n  setArchived() {\n    this._archivedAt = new Date();\n  }\n\n  isNew() {\n    return !this.title && !this.content;\n  }\n\n  toJson() {\n    return JSON.stringify(\n      {\n        uid: this.uid,\n        title: this.title,\n        content: this.content,\n        created_at: this.createdAt.toISOString(),\n        updated_at: this.updatedAt.toISOString(),\n        server_updated_at: this.serverUpdatedAt.toISOString(),\n        archived_at: this.archivedAt ? this.archivedAt.toISOString() : null\n      }\n    );\n  }\n\n  static fromAttributes(attributes) {\n    return new Note(\n      attributes.uid,\n      attributes.title,\n      attributes.content,\n      new Date(attributes.created_at),\n      new Date(attributes.updated_at),\n      attributes.archived_at ? new Date(attributes.archived_at) : null\n    );\n  }\n}\n\nexport default Note;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z\"\n});\n\nvar SvgArchive24Px = function SvgArchive24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArchive24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/archive-24px.5286884b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n});\n\nvar SvgDelete24Px = function SvgDelete24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDelete24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/delete-24px.16793e81.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n});\n\nvar SvgExpandMore24Px = function SvgExpandMore24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgExpandMore24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/expand_more-24px.95a46151.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport humanDate from 'human-date';\nimport $ from 'jquery';\nimport Note from './Note';\nimport AlertFlash from './AlertFlash';\nimport Spinner from './Spinner';\n\nimport defaultNotePicture from './icons/material/short_text-24px.svg';\nimport { ReactComponent as ArchiveIcon } from './icons/material/archive-24px.svg';\nimport { ReactComponent as DeleteIcon } from './icons/material/delete-24px.svg';\nimport { ReactComponent as MoreIcon } from './icons/material/expand_more-24px.svg';\n\nimport './NoteList.css';\n\nclass NoteList extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      notes: [],\n      currentPage: 1,\n      hasMorePages: false,\n      isSynced: false,\n      showMoreLink: false,\n      searchQuery: undefined\n    };\n  }\n\n  render() {\n    return (\n      <div className={this.getListCssClass()}>\n        {this.renderList()}\n        {this.renderNextPageLink()}\n        {this.renderListSpinner()}\n      </div>\n    );\n  }\n\n  renderList() {\n    if (this.state.searchQuery && this.state.notes.length === 0) {\n      return this.renderEmptyListItem();\n    }\n    return this.state.notes.map((note) => this.renderListItem(note));\n  }\n\n  renderEmptyListItem() {\n    return (\n      <div className=\"list-group-item note-navigation-item not-clickable list-nothing\">\n        <div className=\"list-group-item-heading\">\n          There's nothing…\n        </div>\n      </div>\n    );\n  }\n\n  renderListItem(note) {\n    return (\n      <div\n        className={this.getListItemCssClass(note)}\n        key={note.uid}\n        onClick={this.handleNoteClick.bind(this, note)}>\n\n        {this.renderNotePicture(note)}\n        <div className=\"list-item-content\">\n          <h4 className=\"list-item-heading\">\n            {note.title}\n          </h4>\n          <div className=\"list-item-meta tooltip-top\" data-tooltip={humanDate.prettyPrint(note.updatedAt, { showTime: true })}>\n            {humanDate.relativeTime(note.updatedAt)}\n          </div>\n        </div>\n        <div className=\"list-item-actions\">\n          <button className='icon' onClick={this.props.handleArchiveNoteClick.bind(this, note)}>\n            <ArchiveIcon />\n          </button>\n          <button className='icon' onClick={this.props.handleDeleteNoteClick.bind(this, note)}>\n            <DeleteIcon />\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  renderNextPageLink() {\n    if (!this.state.hasMorePages) { return; }\n    if (!this.state.showMoreLink) { return; }\n\n    return (\n      <button className='icon big list-more' onClick={this.handleNextPageClick.bind(this)}>\n        <MoreIcon />\n      </button>\n    );\n  }\n\n  renderListSpinner() {\n    if (this.state.showMoreLink) { return; }\n\n    return (\n      <div className=\"icon big list-more\">\n        <Spinner />\n      </div>\n    );\n  }\n\n  getListItemCssClass(note) {\n    let cssClass = 'card list-item';\n    if (this.isActiveNote(note)) {\n      cssClass += ' active';\n    }\n\n    return cssClass;\n  }\n\n  isActiveNote(note) {\n    return note.uid === this.props.activeNoteUid;\n  }\n\n  getListCssClass() {\n    if (!this.props.showList) {\n      return 'hidden-sm';\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.listNeedsUpdate) {\n      this.listNeedsUpdate = false;\n      this.updateList();\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!this.state.isSynced && nextProps.isSynced) {\n      this.listNeedsUpdate = true;\n    }\n\n    if (this.state.searchQuery !== nextProps.searchQuery) {\n      this.listNeedsUpdate = true;\n    }\n\n    this.setState( {\n      isSynced: nextProps.isSynced,\n      searchQuery: nextProps.searchQuery\n    });\n  }\n\n  handleNoteClick(note, e) {\n    this.props.handleNoteClick(note, e);\n  }\n\n  handleNextPageClick(e) {\n    e.preventDefault();\n    $(e.currentTarget).blur();\n\n    this.setState({ showMoreLink: false });\n\n    this.setState({ currentPage: this.state.currentPage + 1 }, () => {\n      this.updateList();\n    });\n  }\n\n  updateList() {\n    if (this.updateListRequest) {\n      this.updateListRequest.abort();\n    }\n\n    this.updateListRequest = $.ajax({\n      url: '/api/notes',\n      dataType: 'json',\n      data: { search: this.state.searchQuery, page: this.state.currentPage }\n    });\n\n    this.executeUpdateListRequest();\n  }\n\n  executeUpdateListRequest() {\n    this.updateListRequest\n      .done((data) => {\n        this.setState({ showMoreLink: true });\n\n        const notes = data.notes.map(function(note) {\n          return Note.fromAttributes(note);\n        });\n\n        this.setState({\n          notes: notes,\n          currentPage: data.current_page,\n          hasMorePages: data.has_more_pages\n        });\n      })\n      .fail((xhr, status, error) => {\n        // it's not a failure when the request was aborted by a subsequent\n        // request (see call to `abort()` above).\n        if (error === 'abort') {\n          return;\n        }\n\n        this.setState({ showMoreLink: true });\n\n        AlertFlash.show('Watch out, the list is not up to date.');\n        console.error('url: ', this.props.url, 'status: ', status, 'error: ', error.toString());\n      });\n  }\n\n  getPreviewImageUrl(note) {\n    var match = note.content.match(/<img.*? src=['\"]([^'\"]+)['\"].*?>/);\n    if (match) {\n      return match[1];\n    }\n    else {\n      return null;\n    }\n  }\n\n  renderNotePicture(note) {\n    const url = this.getPreviewImageUrl(note) || defaultNotePicture;\n\n    const style = {\n      backgroundImage: `url(${url})`,\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'cover'\n    };\n\n    return <div style={style} className=\"list-item-picture\"></div>;\n  }\n}\n\nexport default NoteList;\n","import highlight from 'highlight.js/lib/core';\n\nimport asciidoc from 'highlight.js/lib/languages/asciidoc';\nimport bash from 'highlight.js/lib/languages/bash';\nimport basic from 'highlight.js/lib/languages/basic';\nimport clean from 'highlight.js/lib/languages/clean';\nimport clojure from 'highlight.js/lib/languages/clojure';\nimport cmake from 'highlight.js/lib/languages/cmake';\nimport coffeescript from 'highlight.js/lib/languages/coffeescript';\nimport cpp from 'highlight.js/lib/languages/cpp';\nimport crystal from 'highlight.js/lib/languages/crystal';\nimport csharp from 'highlight.js/lib/languages/csharp';\nimport css from 'highlight.js/lib/languages/css';\nimport d from 'highlight.js/lib/languages/d';\nimport dart from 'highlight.js/lib/languages/dart';\nimport diff from 'highlight.js/lib/languages/diff';\nimport dockerfile from 'highlight.js/lib/languages/dockerfile';\nimport ebnf from 'highlight.js/lib/languages/ebnf';\nimport elixir from 'highlight.js/lib/languages/elixir';\nimport elm from 'highlight.js/lib/languages/elm';\nimport erb from 'highlight.js/lib/languages/erb';\nimport erlang from 'highlight.js/lib/languages/erlang';\nimport fsharp from 'highlight.js/lib/languages/fsharp';\nimport gherkin from 'highlight.js/lib/languages/gherkin';\nimport go from 'highlight.js/lib/languages/go';\nimport gradle from 'highlight.js/lib/languages/gradle';\nimport groovy from 'highlight.js/lib/languages/groovy';\nimport haml from 'highlight.js/lib/languages/haml';\nimport handlebars from 'highlight.js/lib/languages/handlebars';\nimport htmlbars from 'highlight.js/lib/languages/htmlbars';\nimport http from 'highlight.js/lib/languages/http';\nimport ini from 'highlight.js/lib/languages/ini';\nimport java from 'highlight.js/lib/languages/java';\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport json from 'highlight.js/lib/languages/json';\nimport kotlin from 'highlight.js/lib/languages/kotlin';\nimport less from 'highlight.js/lib/languages/less';\nimport lisp from 'highlight.js/lib/languages/lisp';\nimport llvm from 'highlight.js/lib/languages/llvm';\nimport makefile from 'highlight.js/lib/languages/makefile';\nimport markdown from 'highlight.js/lib/languages/markdown';\nimport mathematica from 'highlight.js/lib/languages/mathematica';\nimport matlab from 'highlight.js/lib/languages/matlab';\nimport nginx from 'highlight.js/lib/languages/nginx';\nimport objectivec from 'highlight.js/lib/languages/objectivec';\nimport perl from 'highlight.js/lib/languages/perl';\nimport pgsql from 'highlight.js/lib/languages/pgsql';\nimport php from 'highlight.js/lib/languages/php';\nimport plaintext from 'highlight.js/lib/languages/plaintext';\nimport powershell from 'highlight.js/lib/languages/powershell';\nimport prolog from 'highlight.js/lib/languages/prolog';\nimport properties from 'highlight.js/lib/languages/properties';\nimport python from 'highlight.js/lib/languages/python';\nimport r from 'highlight.js/lib/languages/r';\nimport ruby from 'highlight.js/lib/languages/ruby';\nimport rust from 'highlight.js/lib/languages/rust';\nimport scala from 'highlight.js/lib/languages/scala';\nimport scss from 'highlight.js/lib/languages/scss';\nimport shell from 'highlight.js/lib/languages/shell';\nimport sql from 'highlight.js/lib/languages/sql';\nimport stylus from 'highlight.js/lib/languages/stylus';\nimport swift from 'highlight.js/lib/languages/swift';\nimport latex from 'highlight.js/lib/languages/latex';\nimport typescript from 'highlight.js/lib/languages/typescript';\nimport vim from 'highlight.js/lib/languages/vim';\nimport xml from 'highlight.js/lib/languages/xml';\nimport yaml from 'highlight.js/lib/languages/yaml';\n\nimport 'highlight.js/styles/railscasts.css';\n\nhighlight.registerLanguage('asciidoc', asciidoc);\nhighlight.registerLanguage('bash', bash);\nhighlight.registerLanguage('basic', basic);\nhighlight.registerLanguage('clean', clean);\nhighlight.registerLanguage('clojure', clojure);\nhighlight.registerLanguage('cmake', cmake);\nhighlight.registerLanguage('coffeescript', coffeescript);\nhighlight.registerLanguage('cpp', cpp);\nhighlight.registerLanguage('crystal', crystal);\nhighlight.registerLanguage('csharp', csharp);\nhighlight.registerLanguage('css', css);\nhighlight.registerLanguage('d', d);\nhighlight.registerLanguage('dart', dart);\nhighlight.registerLanguage('diff', diff);\nhighlight.registerLanguage('dockerfile', dockerfile);\nhighlight.registerLanguage('ebnf', ebnf);\nhighlight.registerLanguage('elixir', elixir);\nhighlight.registerLanguage('elm', elm);\nhighlight.registerLanguage('erb', erb);\nhighlight.registerLanguage('erlang', erlang);\nhighlight.registerLanguage('fsharp', fsharp);\nhighlight.registerLanguage('gherkin', gherkin);\nhighlight.registerLanguage('go', go);\nhighlight.registerLanguage('gradle', gradle);\nhighlight.registerLanguage('groovy', groovy);\nhighlight.registerLanguage('haml', haml);\nhighlight.registerLanguage('handlebars', handlebars);\nhighlight.registerLanguage('htmlbars', htmlbars);\nhighlight.registerLanguage('http', http);\nhighlight.registerLanguage('ini', ini);\nhighlight.registerLanguage('java', java);\nhighlight.registerLanguage('javascript', javascript);\nhighlight.registerLanguage('json', json);\nhighlight.registerLanguage('kotlin', kotlin);\nhighlight.registerLanguage('less', less);\nhighlight.registerLanguage('lisp', lisp);\nhighlight.registerLanguage('llvm', llvm);\nhighlight.registerLanguage('makefile', makefile);\nhighlight.registerLanguage('markdown', markdown);\nhighlight.registerLanguage('mathematica', mathematica);\nhighlight.registerLanguage('matlab', matlab);\nhighlight.registerLanguage('nginx', nginx);\nhighlight.registerLanguage('objectivec', objectivec);\nhighlight.registerLanguage('perl', perl);\nhighlight.registerLanguage('pgsql', pgsql);\nhighlight.registerLanguage('php', php);\nhighlight.registerLanguage('plaintext', plaintext);\nhighlight.registerLanguage('powershell', powershell);\nhighlight.registerLanguage('prolog', prolog);\nhighlight.registerLanguage('properties', properties);\nhighlight.registerLanguage('python', python);\nhighlight.registerLanguage('r', r);\nhighlight.registerLanguage('ruby', ruby);\nhighlight.registerLanguage('rust', rust);\nhighlight.registerLanguage('scala', scala);\nhighlight.registerLanguage('scss', scss);\nhighlight.registerLanguage('shell', shell);\nhighlight.registerLanguage('sql', sql);\nhighlight.registerLanguage('stylus', stylus);\nhighlight.registerLanguage('swift', swift);\nhighlight.registerLanguage('latex', latex);\nhighlight.registerLanguage('typescript', typescript);\nhighlight.registerLanguage('vim', vim);\nhighlight.registerLanguage('xml', xml);\nhighlight.registerLanguage('yaml', yaml);\n\nwindow.hljs = highlight;\n","import './highlight.js';\nimport React, { Component } from 'react';\nimport Quill from 'quill';\nimport 'quill-task-list/task_list_node';\nimport 'quill/dist/quill.snow.css';\nimport './NoteForm.css';\nimport EventHive from './EventHive';\n\nclass NoteForm extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      note: this.props.note\n    };\n\n    this.shouldRerender = true;\n  }\n\n  render() {\n    return (\n      <div className={this.props.showForm ? undefined : 'hidden-sm'}>\n        <form\n          ref={(c) => this.formContainerElement = c}\n          onSubmit={this.handleFormSubmit}>\n          {this.renderTitle()}\n          {this.renderContent()}\n        </form>\n      </div>\n    );\n  }\n\n  renderTitle() {\n    return (\n      <input\n        type=\"text\"\n        value={this.state.note.title}\n        onChange={this.handleTitleChange.bind(this)}\n        placeholder=\"Title\"\n        ref={(c) => this.titleElement = c}\n      />\n    );\n  }\n\n  renderContent() {\n    return (\n      <div ref={(c) => this.contentContainerElement = c}></div>\n    );\n  }\n\n  // prevent form submission by hitting enter.\n  // changes will be asynchronously saved by ajax.\n  handleFormSubmit(e) {\n    e.preventDefault();\n    return false;\n  }\n\n  handleTitleChange() {\n    this.shouldRerender = true;\n    const note = this.state.note;\n    note.title = this.titleElement.value;\n    this.setState({ note: note }, this.handleChange);\n  }\n\n  handleContentChange() {\n    this.shouldRerender = false;\n    const note = this.state.note;\n    note.content = this.contentElement.innerHTML;\n    this.setState({ note: note }, this.handleChange);\n  }\n\n  handleChange() {\n    this.props.handleChange(this.state.note);\n  }\n\n  componentDidMount() {\n    this.focusTitleFieldIfNewNote();\n    this.renderEditor();\n\n    // when updating the note from outside (e.g. from the mobile app), in which\n    // case a sync to the server should be triggered. if we just use the react\n    // eventing the rte won't detect the changes.\n    EventHive.subscribe('note.update', (data) => {\n      this.titleElement.value = data.title;\n      this.handleTitleChange();\n      this.editor.pasteHTML(data.content);\n    });\n  }\n\n  // gets called initially and when a note is switched\n  componentDidUpdate() {\n    this.editor.off('text-change');\n    // reset the content before inserting the actual content.\n    // presumably because of change tracking (delta stuff) in quill the\n    // insertion of big content hangs the browser for several seconds.\n    this.editor.setText('');\n    this.contentElement.innerHTML = this.state.note.content;\n    this.editor.history.clear();\n    // wait on updates before attaching the `text-change` event\n    this.editor.update();\n    this.editor.on('text-change', this.handleContentChange.bind(this));\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // a different note is shown.\n    if (nextProps.note.uid !== this.state.note.uid) {\n      this.shouldRerender = true;\n      this.setState({\n        note: nextProps.note\n      }, () => this.focusTitleFieldIfNewNote());\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // don't rerender if the RTE content changes. the cursor jumps to the\n    // beginning of the content if we re-initialize the RTE content.\n    return this.shouldRerender;\n  }\n\n  renderEditor() {\n    this.editor = new Quill(this.contentContainerElement, {\n      theme: 'snow',\n      modules: {\n        'syntax': true,\n        'toolbar': [\n          [{ 'header': [1, 2, false] }],\n          ['bold', 'italic', 'strike'],\n          [{ 'color': [] }, { 'background': [] }],\n          ['blockquote', 'code-block'],\n          [\n            { 'list': 'ordered' }, { 'list': 'bullet' }, 'task-list',\n            { 'indent': '-1' }, { 'indent': '+1' }\n          ],\n          ['link', 'image'],\n          ['clean']\n        ],\n        'task-list': true\n      }\n    });\n\n    this.contentElement = this.contentContainerElement.querySelector('.ql-editor');\n  }\n\n  focusTitleFieldIfNewNote() {\n    if (this.state.note.isNew()) {\n      this.titleElement.focus();\n    }\n  }\n}\n\nexport default NoteForm;\n","class PushState {\n  constructor(history) {\n    this.history = history;\n  }\n\n  setNew() {\n    this.history.push('/notes');\n  }\n\n  setEdit(note) {\n    const url = `/notes/${note.uid}`;\n\n    if (this.history.location.pathname !== url) {\n      this.history.push(url);\n    }\n  }\n\n  setBrowserTitle(note) {\n    if (note && note.title) {\n      document.title = `${note.title} | Mykonote`;\n    }\n    else {\n      document.title = 'Mykonote';\n    }\n  }\n}\n\nexport default PushState;\n","class SyncStorage {\n  static get KEY_PREFIX() {\n    return 'note-';\n  }\n\n  static set(note) {\n    localStorage.setItem(\n      SyncStorage._getKey(note),\n      note.toJson()\n    );\n  }\n\n  static get(note) {\n    return localStorage.getItem(SyncStorage._getKey(note));\n  }\n\n  static eachNote(callback) {\n    const keys = SyncStorage._getLocalStorageKeys();\n\n    for (let key of keys) {\n      const noteRaw = localStorage.getItem(key);\n      const note = JSON.parse(noteRaw);\n\n      callback(note, noteRaw);\n    }\n  }\n\n  static remove(note) {\n    localStorage.removeItem(SyncStorage._getKey(note));\n  }\n\n  static isEmpty() {\n    return SyncStorage._getLocalStorageKeys().length === 0;\n  }\n\n  static _getLocalStorageKeys() {\n    let keys = [];\n    const length = localStorage.length;\n\n    for (let i = 0; i < length; ++i) {\n      const key = localStorage.key(i);\n\n      if (key.startsWith(SyncStorage.KEY_PREFIX)) {\n        keys.push(key);\n      }\n    }\n\n    return keys;\n  }\n\n  static _getKey(note) {\n    return SyncStorage.KEY_PREFIX + note.uid;\n  }\n}\n\nexport default SyncStorage;\n","import $ from 'jquery';\nimport SyncStorage from './SyncStorage';\nimport Note from './Note';\nimport AlertFlash from './AlertFlash';\n\nclass AutoSave {\n  constructor(onServerSync) {\n    this.onServerSyncCallback = onServerSync;\n\n    this.setSyncStatus();\n  }\n\n  static get POLLING_INTERVAL() {\n    return 3000;\n  }\n\n  startPolling() {\n    setInterval(this.syncToServer.bind(this), AutoSave.POLLING_INTERVAL);\n  }\n\n  setChange(note) {\n    this.setSyncStatus(false);\n\n    SyncStorage.set(note);\n  }\n\n  syncToServer() {\n    if ($.active) {\n      return;\n    }\n\n    SyncStorage.eachNote((note, noteRaw) => {\n      const url = '/api/notes/' + note.uid;\n\n      $.ajax({\n        url: url,\n        method: 'PUT',\n        dataType: 'json',\n        data: { note: note }\n      })\n      // `serverNote` is just a partial note, the response doesn't contain all\n      // attributes\n      .done((serverNote) => this.ajaxDone(note, noteRaw, Note.fromAttributes(serverNote)))\n      .fail((xhr, status, error) => this.ajaxFail(xhr, status, error, url));\n    });\n  }\n\n  setSyncStatus(isSynced, serverNote) {\n    if (isSynced === undefined) {\n      isSynced = SyncStorage.isEmpty();\n    }\n\n    if (isSynced) {\n      window.onbeforeunload = undefined;\n    }\n    else {\n      window.onbeforeunload = function() {\n        return \"Behold! You have unsynchronized changes. \" +\n          \"If you leave the page now, your changes won't be saved to the server.\\n\" +\n          \"(Your data won't be lost, but it will only remain locally in your browser)\";\n      };\n    }\n    this.onServerSyncCallback({ isSynced: isSynced, note: serverNote });\n  }\n\n  ajaxDone(note, noteRaw, serverNote) {\n    // if the content is still the same -> clear from sync storage\n    const syncStorageRawNote = SyncStorage.get(note);\n    if (noteRaw === syncStorageRawNote) {\n      SyncStorage.remove(note);\n    }\n    else {\n      // update the server updated at in the sync storage item as well.  the\n      // content may have been updated in the meantime from the same source. if\n      // we don't do this we will get a conflict, which is not what we want in\n      // this case.\n      const note = Note.fromAttributes(JSON.parse(syncStorageRawNote));\n      note.serverUpdatedAt = serverNote.serverUpdatedAt;\n\n      SyncStorage.set(note);\n    }\n\n    this.setSyncStatus(undefined, serverNote);\n  }\n\n  ajaxFail(xhr, status, error, url) {\n    // 0 == UNSENT -> most probably no internet connection\n    if (xhr.readyState === 0) {\n      return;\n    }\n\n    if (xhr.status === 401) {\n      AlertFlash.show(\n        // we could actually link to the current page with `href=\"\"`, but by\n        // doing this the title input field contains the wrong value once we\n        // are redirected back after login (the value is loaded from the\n        // server, and the save request call doesn't update the title field).\n        // the cheap solution for now is to redirect to the root page, so the\n        // user has to click on the note, which will properly update the\n        // fields.\n        // TODO: use the current page link and fix the update of the title\n        // field\n        'Your session has expired. You need to <a href=\"/\" class=\"alert-link\">sign in</a> again.<br>' +\n        \"Your changes won't be lost, once you're signed in they will be saved to the server.\"\n      );\n    }\n    else if (xhr.status === 422) {\n      AlertFlash.show(xhr.responseJSON.errors.join('<br>'));\n    }\n    else {\n      AlertFlash.show('Something went sideways: ' + error.toString());\n      console.error('url: ', url, 'xhr: ', xhr, 'status: ', status, 'err: ', error.toString());\n    }\n  }\n}\n\nexport default AutoSave;\n","import React, { Component } from 'react';\n\nclass Dialog extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = { show: !!props.show }\n  }\n\n  render() {\n    const id = Math.random().toString(16).slice(-12);\n\n    return (\n      <div className=\"modal\">\n        <input id={id} type=\"checkbox\" checked={this.state.show} onChange={() => {}} />\n        <label htmlFor={id} className=\"overlay\"></label>\n        <article>\n          <header>\n            <h3>{this.props.title}</h3>\n            <label htmlFor={id} className=\"close\" onClick={this.handleCancelButtonClick.bind(this)}>&times;</label>\n          </header>\n          <section className=\"content\" dangerouslySetInnerHTML={{ __html: this.props.text}}>\n          </section>\n          <footer>\n            <button className=\"button\" onClick={this.handleOkButtonClick.bind(this)}>Ok</button>\n            <label htmlFor={id} className=\"button dangerous\" onClick={this.handleCancelButtonClick.bind(this)}>\n              Cancel\n            </label>\n          </footer>\n        </article>\n      </div>\n    );\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ show: !!nextProps.show });\n  }\n\n  handleOkButtonClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.props.handleConfirmed(true);\n  }\n\n  handleCancelButtonClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.props.handleConfirmed(false);\n  }\n}\n\nexport default Dialog;\n","import React, { Component } from 'react';\nimport './SaveStateLabel.css';\n\nclass SaveStateLabel extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = { isSynced: props.isSynced };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ isSynced: nextProps.isSynced });\n  }\n\n  render () {\n    return (\n      this.state.isSynced\n        ?\n        <div className=\"save-state saved\">Saved</div>\n        :\n        <div className=\"save-state saving\">Saving</div>\n    );\n  }\n}\n\nexport default SaveStateLabel;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n});\n\nvar SvgArrowBack24Px = function SvgArrowBack24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowBack24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow_back-24px.3bd6d7e4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n});\n\nvar SvgAdd24Px = function SvgAdd24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAdd24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/add-24px.0e3e08bc.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport SaveStateLabel from './SaveStateLabel';\n\nimport { ReactComponent as ShowListIcon } from './icons/material/arrow_back-24px.svg';\nimport { ReactComponent as NewIcon } from './icons/material/add-24px.svg';\n\nimport './ActionBar.css';\n\nexport class ActionBar extends Component { \n  render() {\n    let showListButtonClassName = 'icon big invisible-lg';\n    if (this.props.showList) {\n      showListButtonClassName += ' invisible';\n    }\n\n    return (\n      <div className=\"action-bar\">\n        <button onClick={this.props.handleShowListClicked.bind(this)} className={showListButtonClassName}>\n          <ShowListIcon />\n        </button>\n\n        <SaveStateLabel isSynced={this.props.isSynced} />\n\n        <button onClick={this.props.handleNewNoteClicked.bind(this)} className=\"icon big\">\n          <NewIcon />\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default ActionBar;\n","import React, { Component } from 'react';\nimport $ from 'jquery';\nimport { debounce } from 'throttle-debounce';\nimport './keyboard';\nimport NoteList from './NoteList';\nimport NoteForm from './NoteForm';\nimport Note from './Note';\nimport PushState from  './PushState';\nimport Navbar from './Navbar';\nimport AlertFlash from './AlertFlash';\nimport EventHive from './EventHive';\nimport AutoSave from './AutoSave';\nimport SyncStorage from './SyncStorage';\nimport Dialog from './Dialog';\nimport ActionBar from './ActionBar';\nimport Flash from './Flash';\n\nclass NoteEdit extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.pushState = new PushState(this.props.history);\n\n    const { match } = this.props;\n\n    if (props.note) {\n      this.initStateFromNote(props.note);\n    }\n    else if (match.params.id) {\n      this.initStateFromNoteId(match.params.id);\n    }\n    else {\n      this.state = { ...this.getNewNoteAttributes(), showList: true };\n    }\n\n    this.handleSearchEnterDebounced = debounce(500, this.handleSearchEnterDebounced);\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderHeaderBar()}\n        {this.renderContent()}\n        <Dialog\n          title='Archive'\n          text='Are you sure you want to archive this note?'\n          show={this.state.showArchiveDialog}\n          handleConfirmed={this.state.handleArchiveDialogConfirmed} />\n        <Dialog\n          title='Delete'\n          text='Are you sure you want to delete this note?'\n          show={this.state.showDeleteDialog}\n          handleConfirmed={this.state.handleDeleteDialogConfirmed} />\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.autoSave = new AutoSave(this.handleServerSync.bind(this));\n    this.autoSave.startPolling();\n\n    EventHive.subscribe('note.create', (data) => {\n      this.setNewNote(() => {\n        EventHive.publish('note.update', data);\n      });\n    });\n\n    EventHive.subscribe('note.new', (data) => {\n      this.setNewNote();\n    });\n  }\n\n  renderHeaderBar() {\n    return (\n      <Navbar\n        isLoggedIn={true}\n        handleSearchEnter={this.handleSearchEnter.bind(this)}\n        handleSearchCleared={this.handleSearchCleared.bind(this)} />\n    );\n  }\n\n  renderContent() {\n    return (\n      <main>\n        <Flash />\n        <ActionBar\n          showList={this.state.showList}\n          isSynced={this.state.isSynced}\n          handleShowListClicked={this.handleShowListClicked.bind(this)}\n          handleNewNoteClicked={this.handleNewNoteClicked.bind(this)} />\n        <div className=\"flex one two-900\">\n          <div className=\"full third-900 fourth-1200\">\n            <NoteList\n              activeNoteUid={this.state.note.uid}\n              isSynced={this.state.isSynced}\n              showList={this.state.showList}\n              searchQuery={this.state.searchQuery}\n              handleNoteClick={this.handleNoteClick.bind(this)}\n              handleDeleteNoteClick={this.handleDeleteNoteClick.bind(this)}\n              handleArchiveNoteClick={this.handleArchiveNoteClick.bind(this)} />\n          </div>\n          <div className=\"full two-third-900 three-fourth-1200 padding-left-xl\">\n            <NoteForm\n              note={this.state.note}\n              handleChange={this.handleEditChange.bind(this)}\n              showForm={!this.state.showList} />\n          </div>\n        </div>\n      </main>\n    );\n  }\n\n  /* eslint-disable react/no-direct-mutation-state */\n  initStateFromNote(note) {\n    this.state = {\n      note: Note.fromAttributes(note)\n    };\n    this.pushState.setBrowserTitle(note);\n  }\n\n  initStateFromNoteId(id) {\n    // set new note as state, otherwise the state will be undefined\n    this.state = {\n      showList: false,\n      ...this.getNewNoteAttributes()\n    };\n\n    $.ajax({\n      url: `/api/notes/${id}`,\n      dataType: 'json',\n    })\n    .done((data) => {\n      const note = Note.fromAttributes(data.note);\n      this.setState({\n        showList: false,\n        note: note\n      }, () => this.pushState.setBrowserTitle(note));\n    })\n    .fail((xhr, status, error) => {\n      AlertFlash.show(\n        'While trying to load the note the internet broke down (or something ' +\n          'else failed, maybe the note could not be found)'\n      );\n    })\n  }\n  /* eslint-enable react/no-direct-mutation-state */\n\n  handleNoteClick(note, e) {\n    e.preventDefault();\n\n    this.setState({ note: note, showList: false });\n    this.pushState.setEdit(note);\n    this.pushState.setBrowserTitle(note);\n  }\n\n  handleDeleteNoteClick(note, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const handler = (confirmed) => {\n      this.setState({ showDeleteDialog: false });\n\n      if (confirmed) {\n        this.setState({ isSynced: false });\n        this.deleteNote(note);\n      }\n    };\n    this.setState({ showDeleteDialog: true, handleDeleteDialogConfirmed: handler.bind(this) });\n  }\n\n  handleArchiveNoteClick(note, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const handler = (confirmed) => {\n      this.setState({ showArchiveDialog: false });\n\n      if (confirmed) {\n        note.setArchived();\n        this.handleEditChange(note)\n        this.setNewNote();\n      }\n    };\n    this.setState({ showArchiveDialog: true, handleArchiveDialogConfirmed: handler.bind(this) });\n  }\n\n  handleNewNoteClicked() {\n    this.setNewNote();\n  }\n\n  handleShowListClicked() {\n    this.setNewNote(() => this.setState({ showList: true }));\n  }\n\n  handleEditChange(note) {\n    this.pushState.setEdit(note);\n\n    this.autoSave.setChange(note);\n  }\n\n  handleServerSync(data) {\n    let state = { isSynced: data.isSynced };\n    // when a note has been synced we need to set the serverUpdatedAt timestamp\n    // for the conflict detection to work\n    // (only do this if the current note is the synced note)\n    if (data.note && this.state.note.uid === data.note.uid) {\n      state.note = this.state.note;\n      state.note.serverUpdatedAt = data.note.serverUpdatedAt;\n    }\n    this.setState(state);\n\n    if (data.isSynced) {\n      this.pushState.setBrowserTitle(this.state.note);\n    }\n  }\n\n  handleSearchEnter(e) {\n    e.persist();\n    this.handleSearchEnterDebounced(e);\n  }\n\n  handleSearchEnterDebounced(e) {\n    // show the list in case a note was shown\n    this.setState({ searchQuery: e.target.value, showList: true });\n  }\n\n  handleSearchCleared() {\n    this.setState({ searchQuery: '' });\n  }\n\n  getNewNoteAttributes() {\n    return { note: new Note() }\n  }\n\n  setNewNote(afterSetState) {\n    this.setState({ ...this.getNewNoteAttributes(), showList: false }, afterSetState);\n    this.pushState.setNew();\n    this.pushState.setBrowserTitle();\n  }\n\n  deleteNote(note) {\n    $.ajax({\n      url: '/api/notes/' + note.uid,\n      method: 'DELETE',\n      dataType: 'json',\n    })\n    .done(() => {\n      SyncStorage.remove(note);\n\n      if (this.state.note.uid === note.uid) {\n        this.setNewNote();\n      }\n    })\n    .fail(function(xhr, status, error) {\n      var message = 'Oh my, the note could not be deleted.';\n      // 0 == UNSENT -> most probably no internet connection\n      if (xhr.readyState === 0) {\n        message += \"<br>Please check your internet connection (Well yes, sorry, deleting in offline mode is not yet suppported).\"\n      }\n      AlertFlash.show(message);\n      console.error('note.uid: ', note.uid, 'status: ', status, 'error: ', error.toString());\n    })\n    .always(() => {\n      this.setState({ isSynced: true });\n    });\n  }\n}\n\nexport default NoteEdit;\n","import React, { Component, Suspense } from 'react';\nimport { HashRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\nimport $ from 'jquery';\nimport NoteEdit from './NoteEdit';\nimport './App.css';\nimport './fonts/roboto.css';\n\nconst LoginForm = React.lazy(() => import('./LoginForm'));\nconst RegistrationForm = React.lazy(() => import('./RegistrationForm'));\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoggedIn: null\n    };\n\n    this.setIsLoggedIn();\n  }\n\n  render() {\n    return (\n      <Router>\n        <div>\n          { this.renderLoggedIn() }\n          { this.renderLoggedOut() }\n        </div>\n      </Router>\n    );\n  }\n\n  onLoginSuccess() {\n    this.setState({ isLoggedIn: true });\n  }\n\n  setIsLoggedIn() {\n    $.ajax({\n      url: '/users/is_authenticated',\n      method: 'GET',\n      dataType: 'json',\n    })\n    .done((data, status, xhr) =>{\n      this.onLoginSuccess();\n    })\n    .fail(() => {\n      this.setState({ isLoggedIn: false });\n    });\n  }\n\n  renderLoggedIn() {\n    if (this.state.isLoggedIn === true) {\n      return (\n        <Switch>\n          <Route path='/notes/:id' component={ NoteEdit } />\n          <Route path='/notes' component={ NoteEdit } />\n          <Redirect from='/' to='/notes' />\n        </Switch>\n      );\n    }\n  }\n\n  renderLoggedOut() {\n    if (this.state.isLoggedIn === false) {\n      return (\n        <Switch>\n          <Route path='/register' render={props => (\n            <Suspense fallback={<div></div>}>\n              <RegistrationForm onLoginSuccess={this.onLoginSuccess.bind(this)} {...props} />\n            </Suspense>\n          )}/>\n\n          <Route path='/login' render={props => (\n            <Suspense fallback={<div></div>}>\n              <LoginForm onLoginSuccess={this.onLoginSuccess.bind(this)} alwaysRememberMe={window.ALWAYS_REMEMBER_ME} />\n            </Suspense>\n          )}/>\n\n          <Redirect to='/login' />\n        </Switch>\n      );\n    }\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import EventHive from './EventHive';\nimport NoticeFlash from './NoticeFlash';\nimport AlertFlash from './AlertFlash';\n\n// expose certain globals that are needed by the mobile app\nexport default function setGlobals() {\n  window.EventHive = EventHive;\n  window.NoticeFlash = NoticeFlash;\n  window.AlertFlash = AlertFlash;\n}\n","import $ from 'jquery';\n\n// ability to set a different host for the API calls. this is needed for the\n// mobile app.\nexport default function setApiHost() {\n  if (!window.API_HOST) { return; }\n\n  $.ajaxPrefilter(function(options) {\n    options.url = window.API_HOST + options.url;\n  });\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport setApiHost from './setApiHost';\nimport setGlobals from './setGlobals';\nimport registerGlobalSpinner from './registerGlobalSpinner';\n\nsetGlobals();\nsetApiHost();\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n\nregisterGlobalSpinner();\n","import $ from 'jquery';\nimport EventHive from './EventHive';\n\n// Shows a global spinner on every ajax request.\n// The spinner is only shown if the request runs for 500ms or more.\nexport default function registerGlobalSpinner() {\n  let timeoutId = undefined;\n\n  $(document).ajaxStart(() => {\n    clearTimeout(timeoutId);\n\n    timeoutId = setTimeout(() => {\n      EventHive.publish('spinner.toggle', { show: true })\n    }, 500)\n  });\n\n  $(document).ajaxStop(() => {\n    clearTimeout(timeoutId);\n\n    EventHive.publish('spinner.toggle', { show: false })\n  });\n}\n","import AbstractFlash from './AbstractFlash';\n\nclass NoticeFlash extends AbstractFlash {\n  getName() {\n    return 'notice';\n  }\n\n  getAdditionalCssClass() {\n    return 'success';\n  }\n}\n\nexport default NoticeFlash;\n","import React, { Component } from 'react';\nimport $ from 'jquery';\n\nclass AbstractFlash extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = { message: props.message };\n  }\n\n  render () {\n    if (!this.state.message) {\n      return null;\n    }\n\n    return (\n      <div className=\"flex center\">\n        <div className=\"hidden-sm\"></div>\n\n        <div className='full third-1000'>\n          <div className={this.getCssClass()}>\n            <footer dangerouslySetInnerHTML={{ __html: this.state.message }} />\n            <button className=\"close icon\" type=\"button\" onClick={this.handleClose.bind(this)}>×</button>\n          </div>\n        </div>\n\n        <div className=\"hidden-sm\"></div>\n      </div>\n    );\n  }\n\n  getCssClass() {\n    var cssClasses = ['card', this.getAdditionalCssClass()];\n\n    return cssClasses.join(' ');\n  }\n\n  handleClose() {\n    this.setState({ message: null });\n  }\n\n  componentDidMount() {\n    // listen on global event so we can use `NoticeFlash.show('hello')`\n    $(document).on(this.constructor.getEventName(), (e, data) => {\n      this.setState({ message: data.message });\n    });\n  }\n\n  componentWillUnmount() {\n    $(document).off(this.constructor.getEventName());\n  }\n\n  getAdditionalCssClass() {\n  }\n\n  getName() {\n  }\n\n  static getEventName() {\n    return 'mykonote.flash.' + this.prototype.getName();\n  }\n\n  static show(message) {\n    $(document).trigger(this.getEventName(), { message: message });\n  }\n\n  static clear() {\n    $(document).trigger(this.getEventName(), { message: null });\n  }\n}\n\nexport default AbstractFlash;\n","import React from 'react';\nimport './Spinner.css';\n\nfunction Spinner() {\n  return (\n    <svg\n      className=\"spinner\"\n      viewBox=\"0 0 66 66\"\n      xmlns=\"http://www.w3.org/2000/svg\">\n      <circle\n        className=\"path\"\n        fill=\"none\"\n        strokeWidth=\"6\"\n        strokeLinecap=\"round\"\n        cx=\"33\"\n        cy=\"33\"\n        r=\"30\"></circle>\n    </svg>\n  );\n}\n\nexport default Spinner;\n","import $ from 'jquery';\n\nexport function scrollToTop() {\n  $('html, body').animate({ scrollTop: 0 }, 300)\n}\n","import React, { Component } from 'react';\nimport NoticeFlash from './NoticeFlash';\nimport AlertFlash from './AlertFlash';\n\nimport './Flash.css';\n\nclass Flash extends Component {\n  render() {\n    return (\n      <div>\n        <NoticeFlash />\n        <AlertFlash />\n      </div>\n    );\n  }\n}\n\nexport default Flash;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z\"\n});\n\nvar SvgLogout24Px = function SvgLogout24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogout24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logout-24px.bfe22dd0.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport { withRouter } from \"react-router\";\nimport $ from 'jquery';\nimport AlertFlash from './AlertFlash';\nimport { scrollToTop } from './scroll';\n\nimport { ReactComponent as LogoutIcon } from './icons/material/logout-24px.svg';\n\nclass Logout extends Component {\n  render() {\n    return (\n      <button onClick={this.handleClicked.bind(this)} className=\"icon-lg big pseudo\">\n        <LogoutIcon />\n        <span className=\"icon-lg-text\">Logout</span>\n      </button>\n    );\n  }\n\n  handleClicked(e) {\n    e.preventDefault();\n\n    $.ajax({\n      url: '/users/sign_out',\n      method: 'DELETE'\n    })\n    .done((data) => {\n      window.location.reload();\n    })\n    .fail(() => {\n      AlertFlash.show('Apologies, logging out did not happen.')\n    })\n    .always(scrollToTop);\n  }\n}\n\nexport default withRouter(Logout);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  fill: \"#008bce\",\n  cx: 46.28,\n  cy: 46.28,\n  r: 46.28\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M44.84 43.38a2.9 2.9 0 1 0 2.9 2.9 2.9 2.9 0 0 0-2.9-2.9z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M46.33 34.07A153.13 153.13 0 0 0 62.48 48.6a7.53 7.53 0 0 0-1.78 2 5.42 5.42 0 0 0 .24 6.33 6.65 6.65 0 0 0 5.24 2.52 5.14 5.14 0 0 0 4-2 5.91 5.91 0 0 0 1.29-4.58 6.07 6.07 0 0 0-.63-1.9 9.3 9.3 0 0 1 5.29 3.91 10.11 10.11 0 0 1 1.35 7.82c-.95 3.12-2.28 5.68-5.85 7.22-9.31 4-17.49-3.8-21.45-8.65-.69-.85-1.4-1.59-2.25-.89s-.51 1.68.1 2.59a26.32 26.32 0 0 0 10.55 9.65 16.44 16.44 0 0 0 13.94.79 14.39 14.39 0 0 0 8.41-9.29 13.43 13.43 0 0 0-1.44-10.74 13.64 13.64 0 0 0-8.92-6.5 11 11 0 0 0-3.92-.11 143.91 143.91 0 0 1-16.53-14.48c5.13-3.33 6.21-7.84 5.7-17.9l-.15-2.84-2.62 1.12c-6.17 2.63-9.77 5.82-10.59 10.48a13.11 13.11 0 0 0 1 7.58 23.71 23.71 0 0 1-6.88.23c-.18-6.56-2.22-15.45-12.79-18.53l-2.61-.88v2.75c.14 14.12 5.55 19.06 11.16 20.06h.23v.19c-.13 5-5 27.79-18.86 44.59q1.41 1.4 2.95 2.68C30.83 65 36.22 41.76 36.54 34.92a24.41 24.41 0 0 0 9.79-.85zm19.41 17.79a2.42 2.42 0 1 1-2.42 2.42 2.42 2.42 0 0 1 2.42-2.42zm-19.36-28a11.09 11.09 0 0 1 6.46-7.67c.44 7.76-2.18 11.32-5.49 13.15l-.19-.21c-.69-.82-1.1-3.53-.78-5.3zm-22.43-8.18c7.67 2.9 8.47 9.58 8.66 14.73-3.63-.94-7.85-5.58-8.66-14.76z\"\n});\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 92.57 92.57\",\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.8ad1a424.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n});\n\nvar SvgClose24Px = function SvgClose24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClose24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close-24px.b840e171.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport $ from 'jquery';\nimport EventHive from './EventHive';\nimport Spinner from './Spinner';\nimport Logout from './Logout';\n\nimport { ReactComponent as Logo } from './images/logo.svg';\nimport { ReactComponent as CloseIcon } from './icons/material/close-24px.svg';\n\nimport './Navbar.css';\n\nclass Navbar extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = { showSpinner: false };\n  }\n\n  render() {\n    return (\n      <nav>\n        {this.renderLogo()}\n\n        {this.props.isLoggedIn ? this.renderSearchBox() : null}\n\n        <input id=\"bmenug\" type=\"checkbox\" className=\"show\" ref={c => this.showHamburger = c} />\n        <label htmlFor=\"bmenug\" className=\"burger pseudo button\">&#8801;</label>\n\n        <div className=\"menu\">\n          <button\n            type=\"button\"\n            className=\"icon close-hamburger hidden-lg\"\n            onClick={this.handleCloseHamburgerClicked.bind(this)}>\n            <CloseIcon />\n          </button>\n\n          {this.props.isLoggedIn ? <Logout /> : null}\n        </div>\n      </nav>\n    );\n  }\n\n  renderLogo() {\n    return (\n      <Link to='/' className=\"brand\">\n        {this.state.showSpinner ? (\n          <div className=\"logo\">\n            <Spinner />\n          </div>\n        ) : (\n          <Logo className=\"logo\" />\n        )}\n      </Link>\n    );\n  }\n\n  componentDidMount() {\n    this.subscribeSpinner();\n    this.subscribeSearch();\n  }\n\n  renderSearchBox() {\n    return (\n      <div className=\"search vertically-aligned\">\n        <input\n          type=\"text\"\n          className=\"search-input\"\n          placeholder=\"Search\"\n          onChange={this.props.handleSearchEnter}\n          ref={(c) => this.$searchInput = $(c)} />\n        <button\n          type=\"button\"\n          className=\"search-clear\"\n          onClick={this.handleSearchCleared.bind(this)}>×</button>\n      </div>\n    );\n  }\n\n  getSpinnerCssClass() {\n    let cssClass = 'spinner';\n    if (!this.state.showSpinner) {\n      cssClass += ' hidden';\n    }\n\n    return cssClass;\n  }\n\n  getLogoCssClass() {\n    let cssClass = 'navbar-logo';\n    if (this.state.showSpinner) {\n      cssClass += ' hidden';\n    }\n\n    return cssClass;\n  }\n\n  handleSearchCleared(e) {\n    this.$searchInput.val('');\n    $(e.target).blur();\n    this.props.handleSearchCleared();\n  }\n\n  handleCloseHamburgerClicked() {\n    this.showHamburger.checked = false;\n  }\n\n  subscribeSpinner() {\n    // listen on global event so we can toggle the spinner from unrelated\n    // components\n    EventHive.subscribe('spinner.toggle', (data) => {\n      this.setState({ showSpinner: data.show });\n    });\n  }\n\n  subscribeSearch() {\n    EventHive.subscribe('search.focus', () => {\n      this.$searchInput.focus();\n      this.$searchInput.select();\n    });\n  }\n}\n\nexport default Navbar;\n","module.exports = __webpack_public_path__ + \"static/media/short_text-24px.0c7dd082.svg\";","// credits to https://davidwalsh.name/pubsub-javascript\nclass EventHive {\n  static get topics() {\n    if (typeof this._topics === 'undefined') {\n      this._topics = {};\n    }\n    return this._topics;\n  }\n\n  static subscribe(topic, listener) {\n    // Create the topic's object if not yet created\n    if (!this.topics.hasOwnProperty.call(this.topics, topic)) {\n      this.topics[topic] = [];\n    }\n\n    // Add the listener to queue\n    var index = this.topics[topic].push(listener) -1;\n\n    // Provide handle back for removal of topic\n    return {\n      remove: () => {\n        delete this.topics[topic][index];\n      }\n    };\n  }\n\n  static publish(topic, info) {\n    // If the topic doesn't exist, or there's no listeners in queue, just leave\n    if (!this.topics.hasOwnProperty.call(this.topics, topic)) {\n      return;\n    }\n\n    // Cycle through topics queue, fire!\n    this.topics[topic].forEach(function(item) {\n      item(info !== undefined ? info : {});\n    });\n  }\n}\n\nexport default EventHive;\n"],"sourceRoot":""}