(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){"use strict";var a=n(3),r=n(4),i=n(6),s=n(5),o=n(7),c=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"getName",value:function(){return"alert"}},{key:"getAdditionalCssClass",value:function(){return"warning"}}]),t}(n(16).a);t.a=c},100:function(e,t,n){e.exports=n(139)},105:function(e,t,n){},106:function(e,t,n){},129:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(30),s=n.n(i),o=n(3),c=n(4),l=n(6),u=n(5),h=n(7),d=n(146),g=n(148),f=n(145),v=n(147),p=n(8),m=n.n(p),y=n(21),b=n(31),k=n(22),w=n.n(k),E=n(9);w.a.prototype.stopCallback=function(){return!1},w.a.bind("alt+shift+f",function(){return E.a.publish("search.focus"),!1}),w.a.bind("alt+shift+n",function(){return E.a.publish("note.new"),!1});var O=n(24),S=n.n(O),L=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,null,[{key:"generateV4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),e}(),j=function(){function e(t,n,a,r,i,s){Object(o.a)(this,e),this._uid=t||L.generateV4(),this._title=n||"",this._content=a||"",this._createdAt=r||new Date,this._updatedAt=i||this._createdAt,this._serverUpdatedAt=this._updatedAt,this._archivedAt=s}return Object(c.a)(e,[{key:"setArchived",value:function(){this._archivedAt=new Date}},{key:"isNew",value:function(){return!this.title&&!this.content}},{key:"toJson",value:function(){return JSON.stringify({uid:this.uid,title:this.title,content:this.content,created_at:this.createdAt.toISOString(),updated_at:this.updatedAt.toISOString(),server_updated_at:this.serverUpdatedAt.toISOString(),archived_at:this.archivedAt?this.archivedAt.toISOString():null})}},{key:"uid",get:function(){return this._uid}},{key:"title",get:function(){return this._title},set:function(e){this._updatedAt=new Date,this._title=e}},{key:"content",get:function(){return this._content},set:function(e){this._updatedAt=new Date,this._content=e}},{key:"createdAt",get:function(){return this._createdAt}},{key:"updatedAt",get:function(){return this._updatedAt}},{key:"serverUpdatedAt",get:function(){return this._serverUpdatedAt},set:function(e){this._serverUpdatedAt=e}},{key:"archivedAt",get:function(){return this._archivedAt}}],[{key:"fromAttributes",value:function(t){return new e(t.uid,t.title,t.content,new Date(t.created_at),new Date(t.updated_at),t.archived_at?new Date(t.archived_at):null)}}]),e}(),N=n(10),C=n(17),x=n(32),A=n.n(x);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),R=r.a.createElement("path",{d:"M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"}),D=function(e){var t=e.svgRef,n=P(e,["svgRef"]);return r.a.createElement("svg",I({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),_,R)},M=r.a.forwardRef(function(e,t){return r.a.createElement(D,I({svgRef:t},e))});n.p;function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var B=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),z=r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),U=function(e){var t=e.svgRef,n=H(e,["svgRef"]);return r.a.createElement("svg",T({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),B,z)},F=r.a.forwardRef(function(e,t){return r.a.createElement(U,T({svgRef:t},e))});n.p;function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Q=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),V=r.a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),K=function(e){var t=e.svgRef,n=q(e,["svgRef"]);return r.a.createElement("svg",W({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),Q,V)},Y=r.a.forwardRef(function(e,t){return r.a.createElement(K,W({svgRef:t},e))}),J=(n.p,n(106),function(e){function t(e,n){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e,n))).state={notes:[],currentPage:1,hasMorePages:!1,isSynced:!1,showMoreLink:!1,searchQuery:void 0},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.getListCssClass()},this.renderList(),this.renderNextPageLink(),this.renderListSpinner())}},{key:"renderList",value:function(){var e=this;return this.state.searchQuery&&0===this.state.notes.length?this.renderEmptyListItem():this.state.notes.map(function(t){return e.renderListItem(t)})}},{key:"renderEmptyListItem",value:function(){return r.a.createElement("div",{className:"list-group-item note-navigation-item not-clickable list-nothing"},r.a.createElement("div",{className:"list-group-item-heading"},"There's nothing\u2026"))}},{key:"renderListItem",value:function(e){return r.a.createElement("div",{className:this.getListItemCssClass(e),key:e.uid,onClick:this.handleNoteClick.bind(this,e)},this.renderNotePicture(e),r.a.createElement("div",{className:"list-item-content"},r.a.createElement("h4",{className:"list-item-heading"},e.title),r.a.createElement("div",{className:"list-item-meta tooltip-top","data-tooltip":S.a.prettyPrint(e.updatedAt,{showTime:!0})},S.a.relativeTime(e.updatedAt))),r.a.createElement("div",{className:"list-item-actions"},r.a.createElement("button",{className:"icon",onClick:this.props.handleArchiveNoteClick.bind(this,e)},r.a.createElement(M,null)),r.a.createElement("button",{className:"icon",onClick:this.props.handleDeleteNoteClick.bind(this,e)},r.a.createElement(F,null))))}},{key:"renderNextPageLink",value:function(){if(this.state.hasMorePages&&this.state.showMoreLink)return r.a.createElement("button",{className:"icon big list-more",onClick:this.handleNextPageClick.bind(this)},r.a.createElement(Y,null))}},{key:"renderListSpinner",value:function(){if(!this.state.showMoreLink)return r.a.createElement("div",{className:"icon big list-more"},r.a.createElement(C.a,null))}},{key:"getListItemCssClass",value:function(e){var t="card list-item";return this.isActiveNote(e)&&(t+=" active"),t}},{key:"isActiveNote",value:function(e){return e.uid===this.props.activeNoteUid}},{key:"getListCssClass",value:function(){if(!this.props.showList)return"hidden-sm"}},{key:"componentDidUpdate",value:function(){this.listNeedsUpdate&&(this.listNeedsUpdate=!1,this.updateList())}},{key:"componentWillReceiveProps",value:function(e){!this.state.isSynced&&e.isSynced&&(this.listNeedsUpdate=!0),this.state.searchQuery!==e.searchQuery&&(this.listNeedsUpdate=!0),this.setState({isSynced:e.isSynced,searchQuery:e.searchQuery})}},{key:"handleNoteClick",value:function(e,t){this.props.handleNoteClick(e,t)}},{key:"handleNextPageClick",value:function(e){var t=this;e.preventDefault(),m()(e.currentTarget).blur(),this.setState({showMoreLink:!1}),this.setState({currentPage:this.state.currentPage+1},function(){t.updateList()})}},{key:"updateList",value:function(){this.updateListRequest&&this.updateListRequest.abort(),this.updateListRequest=m.a.ajax({url:"/api/notes",dataType:"json",data:{search:this.state.searchQuery,page:this.state.currentPage}}),this.executeUpdateListRequest()}},{key:"executeUpdateListRequest",value:function(){var e=this;this.updateListRequest.done(function(t){e.setState({showMoreLink:!0});var n=t.notes.map(function(e){return j.fromAttributes(e)});e.setState({notes:n,currentPage:t.current_page,hasMorePages:t.has_more_pages})}).fail(function(t,n,a){"abort"!==a&&(e.setState({showMoreLink:!0}),N.a.show("Watch out, the list is not up to date."),console.error("url: ",e.props.url,"status: ",n,"error: ",a.toString()))})}},{key:"getPreviewImageUrl",value:function(e){var t=e.content.match(/<img.*? src=['"]([^'"]+)['"].*?>/);return t?t[1]:null}},{key:"renderNotePicture",value:function(e){var t=this.getPreviewImageUrl(e)||A.a,n={backgroundImage:"url(".concat(t,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"};return r.a.createElement("div",{style:n,className:"list-item-picture"})}}]),t}(a.Component)),$=n(1),G=n.n($),X=n(33),Z=n.n(X),ee=n(34),te=n.n(ee),ne=n(35),ae=n.n(ne),re=n(36),ie=n.n(re),se=n(37),oe=n.n(se),ce=n(38),le=n.n(ce),ue=n(39),he=n.n(ue),de=n(40),ge=n.n(de),fe=n(41),ve=n.n(fe),pe=n(42),me=n.n(pe),ye=n(43),be=n.n(ye),ke=n(44),we=n.n(ke),Ee=n(45),Oe=n.n(Ee),Se=n(46),Le=n.n(Se),je=n(47),Ne=n.n(je),Ce=n(48),xe=n.n(Ce),Ae=n(49),Ie=n.n(Ae),Pe=n(50),_e=n.n(Pe),Re=n(51),De=n.n(Re),Me=n(52),Te=n.n(Me),He=n(53),Be=n.n(He),ze=n(54),Ue=n.n(ze),Fe=n(55),We=n.n(Fe),qe=n(56),Qe=n.n(qe),Ve=n(57),Ke=n.n(Ve),Ye=n(58),Je=n.n(Ye),$e=n(59),Ge=n.n($e),Xe=n(60),Ze=n.n(Xe),et=n(61),tt=n.n(et),nt=n(62),at=n.n(nt),rt=n(63),it=n.n(rt),st=n(64),ot=n.n(st),ct=n(65),lt=n.n(ct),ut=n(66),ht=n.n(ut),dt=n(67),gt=n.n(dt),ft=n(68),vt=n.n(ft),pt=n(69),mt=n.n(pt),yt=n(70),bt=n.n(yt),kt=n(71),wt=n.n(kt),Et=n(72),Ot=n.n(Et),St=n(73),Lt=n.n(St),jt=n(74),Nt=n.n(jt),Ct=n(75),xt=n.n(Ct),At=n(76),It=n.n(At),Pt=n(77),_t=n.n(Pt),Rt=n(78),Dt=n.n(Rt),Mt=n(79),Tt=n.n(Mt),Ht=n(80),Bt=n.n(Ht),zt=n(81),Ut=n.n(zt),Ft=n(82),Wt=n.n(Ft),qt=n(83),Qt=n.n(qt),Vt=n(84),Kt=n.n(Vt),Yt=n(85),Jt=n.n(Yt),$t=n(86),Gt=n.n($t),Xt=n(87),Zt=n.n(Xt),en=n(88),tn=n.n(en),nn=n(89),an=n.n(nn),rn=n(90),sn=n.n(rn),on=n(91),cn=n.n(on),ln=n(92),un=n.n(ln),hn=n(93),dn=n.n(hn),gn=n(94),fn=n.n(gn),vn=n(95),pn=n.n(vn),mn=n(96),yn=n.n(mn),bn=n(97),kn=n.n(bn);n(122);G.a.registerLanguage("asciidoc",Z.a),G.a.registerLanguage("bash",te.a),G.a.registerLanguage("basic",ae.a),G.a.registerLanguage("clean",ie.a),G.a.registerLanguage("clojure",oe.a),G.a.registerLanguage("cmake",le.a),G.a.registerLanguage("coffeescript",he.a),G.a.registerLanguage("cpp",ge.a),G.a.registerLanguage("crystal",ve.a),G.a.registerLanguage("csharp",me.a),G.a.registerLanguage("css",be.a),G.a.registerLanguage("d",we.a),G.a.registerLanguage("dart",Oe.a),G.a.registerLanguage("diff",Le.a),G.a.registerLanguage("dockerfile",Ne.a),G.a.registerLanguage("ebnf",xe.a),G.a.registerLanguage("elixir",Ie.a),G.a.registerLanguage("elm",_e.a),G.a.registerLanguage("erb",De.a),G.a.registerLanguage("erlang",Te.a),G.a.registerLanguage("fsharp",Be.a),G.a.registerLanguage("gherkin",Ue.a),G.a.registerLanguage("go",We.a),G.a.registerLanguage("gradle",Qe.a),G.a.registerLanguage("groovy",Ke.a),G.a.registerLanguage("haml",Je.a),G.a.registerLanguage("handlebars",Ge.a),G.a.registerLanguage("htmlbars",Ze.a),G.a.registerLanguage("http",tt.a),G.a.registerLanguage("ini",at.a),G.a.registerLanguage("java",it.a),G.a.registerLanguage("javascript",ot.a),G.a.registerLanguage("json",lt.a),G.a.registerLanguage("kotlin",ht.a),G.a.registerLanguage("less",gt.a),G.a.registerLanguage("lisp",vt.a),G.a.registerLanguage("llvm",mt.a),G.a.registerLanguage("makefile",bt.a),G.a.registerLanguage("markdown",wt.a),G.a.registerLanguage("mathematica",Ot.a),G.a.registerLanguage("matlab",Lt.a),G.a.registerLanguage("nginx",Nt.a),G.a.registerLanguage("objectivec",xt.a),G.a.registerLanguage("perl",It.a),G.a.registerLanguage("pgsql",_t.a),G.a.registerLanguage("php",Dt.a),G.a.registerLanguage("plaintext",Tt.a),G.a.registerLanguage("powershell",Bt.a),G.a.registerLanguage("prolog",Ut.a),G.a.registerLanguage("properties",Wt.a),G.a.registerLanguage("python",Qt.a),G.a.registerLanguage("r",Kt.a),G.a.registerLanguage("ruby",Jt.a),G.a.registerLanguage("rust",Gt.a),G.a.registerLanguage("scala",Zt.a),G.a.registerLanguage("scss",tn.a),G.a.registerLanguage("shell",an.a),G.a.registerLanguage("sql",sn.a),G.a.registerLanguage("stylus",cn.a),G.a.registerLanguage("swift",un.a),G.a.registerLanguage("latex",dn.a),G.a.registerLanguage("typescript",fn.a),G.a.registerLanguage("vim",pn.a),G.a.registerLanguage("xml",yn.a),G.a.registerLanguage("yaml",kn.a),window.hljs=G.a;var wn=n(13),En=n.n(wn),On=(n(140),n(128),n(129),function(e){function t(e,n){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e,n))).state={note:a.props.note},a.shouldRerender=!0,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.showForm?void 0:"hidden-sm"},r.a.createElement("form",{ref:function(t){return e.formContainerElement=t},onSubmit:this.handleFormSubmit},this.renderTitle(),this.renderContent()))}},{key:"renderTitle",value:function(){var e=this;return r.a.createElement("input",{type:"text",value:this.state.note.title,onChange:this.handleTitleChange.bind(this),placeholder:"Title",ref:function(t){return e.titleElement=t}})}},{key:"renderContent",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){return e.contentContainerElement=t}})}},{key:"handleFormSubmit",value:function(e){return e.preventDefault(),!1}},{key:"handleTitleChange",value:function(){this.shouldRerender=!0;var e=this.state.note;e.title=this.titleElement.value,this.setState({note:e},this.handleChange)}},{key:"handleContentChange",value:function(){this.shouldRerender=!1;var e=this.state.note;e.content=this.contentElement.innerHTML,this.setState({note:e},this.handleChange)}},{key:"handleChange",value:function(){this.props.handleChange(this.state.note)}},{key:"componentDidMount",value:function(){var e=this;this.focusTitleFieldIfNewNote(),this.renderEditor(),E.a.subscribe("note.update",function(t){e.titleElement.value=t.title,e.handleTitleChange(),e.editor.pasteHTML(t.content)})}},{key:"componentDidUpdate",value:function(){this.editor.off("text-change"),this.editor.setText(""),this.contentElement.innerHTML=this.state.note.content,this.editor.history.clear(),this.editor.update(),this.editor.on("text-change",this.handleContentChange.bind(this))}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.note.uid!==this.state.note.uid&&(this.shouldRerender=!0,this.setState({note:e.note},function(){return t.focusTitleFieldIfNewNote()}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.shouldRerender}},{key:"renderEditor",value:function(){this.editor=new En.a(this.contentContainerElement,{theme:"snow",modules:{syntax:!0,toolbar:[[{header:[1,2,!1]}],["bold","italic","strike"],[{color:[]},{background:[]}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},"task-list",{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]],"task-list":!0}}),this.contentElement=this.contentContainerElement.querySelector(".ql-editor")}},{key:"focusTitleFieldIfNewNote",value:function(){this.state.note.isNew()&&this.titleElement.focus()}}]),t}(a.Component)),Sn=function(){function e(t){Object(o.a)(this,e),this.history=t}return Object(c.a)(e,[{key:"setNew",value:function(){this.history.push("/notes")}},{key:"setEdit",value:function(e){var t="/notes/".concat(e.uid);this.history.location.pathname!==t&&this.history.push(t)}},{key:"setBrowserTitle",value:function(e){e&&e.title?document.title="".concat(e.title," | Mykonote"):document.title="Mykonote"}}]),e}(),Ln=n(28);function jn(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nn(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Cn=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,null,[{key:"set",value:function(t){localStorage.setItem(e._getKey(t),t.toJson())}},{key:"get",value:function(t){return localStorage.getItem(e._getKey(t))}},{key:"eachNote",value:function(t){var n,a=jn(e._getLocalStorageKeys());try{for(a.s();!(n=a.n()).done;){var r=n.value,i=localStorage.getItem(r);t(JSON.parse(i),i)}}catch(s){a.e(s)}finally{a.f()}}},{key:"remove",value:function(t){localStorage.removeItem(e._getKey(t))}},{key:"isEmpty",value:function(){return 0===e._getLocalStorageKeys().length}},{key:"_getLocalStorageKeys",value:function(){for(var t=[],n=localStorage.length,a=0;a<n;++a){var r=localStorage.key(a);r.startsWith(e.KEY_PREFIX)&&t.push(r)}return t}},{key:"_getKey",value:function(t){return e.KEY_PREFIX+t.uid}},{key:"KEY_PREFIX",get:function(){return"note-"}}]),e}(),xn=function(){function e(t){Object(o.a)(this,e),this.onServerSyncCallback=t,this.setSyncStatus()}return Object(c.a)(e,[{key:"startPolling",value:function(){setInterval(this.syncToServer.bind(this),e.POLLING_INTERVAL)}},{key:"setChange",value:function(e){this.setSyncStatus(!1),Cn.set(e)}},{key:"syncToServer",value:function(){var e=this;m.a.active||Cn.eachNote(function(t,n){var a="/api/notes/"+t.uid;m.a.ajax({url:a,method:"PUT",dataType:"json",data:{note:t}}).done(function(a){return e.ajaxDone(t,n,j.fromAttributes(a))}).fail(function(t,n,r){return e.ajaxFail(t,n,r,a)})})}},{key:"setSyncStatus",value:function(e,t){void 0===e&&(e=Cn.isEmpty()),window.onbeforeunload=e?void 0:function(){return"Behold! You have unsynchronized changes. If you leave the page now, your changes won't be saved to the server.\n(Your data won't be lost, but it will only remain locally in your browser)"},this.onServerSyncCallback({isSynced:e,note:t})}},{key:"ajaxDone",value:function(e,t,n){var a=Cn.get(e);if(t===a)Cn.remove(e);else{var r=j.fromAttributes(JSON.parse(a));r.serverUpdatedAt=n.serverUpdatedAt,Cn.set(r)}this.setSyncStatus(void 0,n)}},{key:"ajaxFail",value:function(e,t,n,a){0!==e.readyState&&(401===e.status?N.a.show('Your session has expired. You need to <a href="/" class="alert-link">sign in</a> again.<br>Your changes won\'t be lost, once you\'re signed in they will be saved to the server.'):422===e.status?N.a.show(e.responseJSON.errors.join("<br>")):(N.a.show("Something went sideways: "+n.toString()),console.error("url: ",a,"xhr: ",e,"status: ",t,"err: ",n.toString())))}}],[{key:"POLLING_INTERVAL",get:function(){return 3e3}}]),e}(),An=function(e){function t(e,n){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e,n))).state={show:!!e.show},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=Math.random().toString(16).slice(-12);return r.a.createElement("div",{className:"modal"},r.a.createElement("input",{id:e,type:"checkbox",checked:this.state.show,onChange:function(){}}),r.a.createElement("label",{htmlFor:e,className:"overlay"}),r.a.createElement("article",null,r.a.createElement("header",null,r.a.createElement("h3",null,this.props.title),r.a.createElement("label",{htmlFor:e,className:"close",onClick:this.handleCancelButtonClick.bind(this)},"\xd7")),r.a.createElement("section",{className:"content",dangerouslySetInnerHTML:{__html:this.props.text}}),r.a.createElement("footer",null,r.a.createElement("button",{className:"button",onClick:this.handleOkButtonClick.bind(this)},"Ok"),r.a.createElement("label",{htmlFor:e,className:"button dangerous",onClick:this.handleCancelButtonClick.bind(this)},"Cancel"))))}},{key:"componentWillReceiveProps",value:function(e){this.setState({show:!!e.show})}},{key:"handleOkButtonClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.handleConfirmed(!0)}},{key:"handleCancelButtonClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.handleConfirmed(!1)}}]),t}(a.Component),In=(n(134),function(e){function t(e,n){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e,n))).state={isSynced:e.isSynced},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isSynced:e.isSynced})}},{key:"render",value:function(){return this.state.isSynced?r.a.createElement("div",{className:"save-state saved"},"Saved"):r.a.createElement("div",{className:"save-state saving"},"Saving")}}]),t}(a.Component));function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _n(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Rn=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),Dn=r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),Mn=function(e){var t=e.svgRef,n=_n(e,["svgRef"]);return r.a.createElement("svg",Pn({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),Rn,Dn)},Tn=r.a.forwardRef(function(e,t){return r.a.createElement(Mn,Pn({svgRef:t},e))});n.p;function Hn(){return(Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Bn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var zn=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),Un=r.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),Fn=function(e){var t=e.svgRef,n=Bn(e,["svgRef"]);return r.a.createElement("svg",Hn({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),zn,Un)},Wn=r.a.forwardRef(function(e,t){return r.a.createElement(Fn,Hn({svgRef:t},e))}),qn=(n.p,n(135),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="icon big invisible-lg";return this.props.showList&&(e+=" invisible"),r.a.createElement("div",{className:"action-bar"},r.a.createElement("button",{onClick:this.props.handleShowListClicked.bind(this),className:e},r.a.createElement(Tn,null)),r.a.createElement(In,{isSynced:this.props.isSynced}),r.a.createElement("button",{onClick:this.props.handleNewNoteClicked.bind(this),className:"icon big"},r.a.createElement(Wn,null)))}}]),t}(a.Component)),Qn=n(27),Vn=function(e){function t(e,n){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e,n))).pushState=new Sn(a.props.history);var r=a.props.match;return e.note?a.initStateFromNote(e.note):r.params.id?a.initStateFromNoteId(r.params.id):a.state=Object(y.a)({},a.getNewNoteAttributes(),{showList:!0}),a.handleSearchEnterDebounced=Object(b.a)(500,a.handleSearchEnterDebounced),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderHeaderBar(),this.renderContent(),r.a.createElement(An,{title:"Archive",text:"Are you sure you want to archive this note?",show:this.state.showArchiveDialog,handleConfirmed:this.state.handleArchiveDialogConfirmed}),r.a.createElement(An,{title:"Delete",text:"Are you sure you want to delete this note?",show:this.state.showDeleteDialog,handleConfirmed:this.state.handleDeleteDialogConfirmed}))}},{key:"componentDidMount",value:function(){var e=this;this.autoSave=new xn(this.handleServerSync.bind(this)),this.autoSave.startPolling(),E.a.subscribe("note.create",function(t){e.setNewNote(function(){E.a.publish("note.update",t)})}),E.a.subscribe("note.new",function(t){e.setNewNote()})}},{key:"renderHeaderBar",value:function(){return r.a.createElement(Ln.a,{isLoggedIn:!0,handleSearchEnter:this.handleSearchEnter.bind(this),handleSearchCleared:this.handleSearchCleared.bind(this)})}},{key:"renderContent",value:function(){return r.a.createElement("main",null,r.a.createElement(Qn.a,null),r.a.createElement(qn,{showList:this.state.showList,isSynced:this.state.isSynced,handleShowListClicked:this.handleShowListClicked.bind(this),handleNewNoteClicked:this.handleNewNoteClicked.bind(this)}),r.a.createElement("div",{className:"flex one two-900"},r.a.createElement("div",{className:"full third-900 fourth-1200"},r.a.createElement(J,{activeNoteUid:this.state.note.uid,isSynced:this.state.isSynced,showList:this.state.showList,searchQuery:this.state.searchQuery,handleNoteClick:this.handleNoteClick.bind(this),handleDeleteNoteClick:this.handleDeleteNoteClick.bind(this),handleArchiveNoteClick:this.handleArchiveNoteClick.bind(this)})),r.a.createElement("div",{className:"full two-third-900 three-fourth-1200 padding-left-xl"},r.a.createElement(On,{note:this.state.note,handleChange:this.handleEditChange.bind(this),showForm:!this.state.showList}))))}},{key:"initStateFromNote",value:function(e){this.state={note:j.fromAttributes(e)},this.pushState.setBrowserTitle(e)}},{key:"initStateFromNoteId",value:function(e){var t=this;this.state=Object(y.a)({showList:!1},this.getNewNoteAttributes()),m.a.ajax({url:"/api/notes/".concat(e),dataType:"json"}).done(function(e){var n=j.fromAttributes(e.note);t.setState({showList:!1,note:n},function(){return t.pushState.setBrowserTitle(n)})}).fail(function(e,t,n){N.a.show("While trying to load the note the internet broke down (or something else failed, maybe the note could not be found)")})}},{key:"handleNoteClick",value:function(e,t){t.preventDefault(),this.setState({note:e,showList:!1}),this.pushState.setEdit(e),this.pushState.setBrowserTitle(e)}},{key:"handleDeleteNoteClick",value:function(e,t){var n=this;t.preventDefault(),t.stopPropagation();this.setState({showDeleteDialog:!0,handleDeleteDialogConfirmed:function(t){n.setState({showDeleteDialog:!1}),t&&(n.setState({isSynced:!1}),n.deleteNote(e))}.bind(this)})}},{key:"handleArchiveNoteClick",value:function(e,t){var n=this;t.preventDefault(),t.stopPropagation();this.setState({showArchiveDialog:!0,handleArchiveDialogConfirmed:function(t){n.setState({showArchiveDialog:!1}),t&&(e.setArchived(),n.handleEditChange(e),n.setNewNote())}.bind(this)})}},{key:"handleNewNoteClicked",value:function(){this.setNewNote()}},{key:"handleShowListClicked",value:function(){var e=this;this.setNewNote(function(){return e.setState({showList:!0})})}},{key:"handleEditChange",value:function(e){this.pushState.setEdit(e),this.autoSave.setChange(e)}},{key:"handleServerSync",value:function(e){var t={isSynced:e.isSynced};e.note&&this.state.note.uid===e.note.uid&&(t.note=this.state.note,t.note.serverUpdatedAt=e.note.serverUpdatedAt),this.setState(t),e.isSynced&&this.pushState.setBrowserTitle(this.state.note)}},{key:"handleSearchEnter",value:function(e){e.persist(),this.handleSearchEnterDebounced(e)}},{key:"handleSearchEnterDebounced",value:function(e){this.setState({searchQuery:e.target.value,showList:!0})}},{key:"handleSearchCleared",value:function(){this.setState({searchQuery:""})}},{key:"getNewNoteAttributes",value:function(){return{note:new j}}},{key:"setNewNote",value:function(e){this.setState(Object(y.a)({},this.getNewNoteAttributes(),{showList:!1}),e),this.pushState.setNew(),this.pushState.setBrowserTitle()}},{key:"deleteNote",value:function(e){var t=this;m.a.ajax({url:"/api/notes/"+e.uid,method:"DELETE",dataType:"json"}).done(function(){Cn.remove(e),t.state.note.uid===e.uid&&t.setNewNote()}).fail(function(t,n,a){var r="Oh my, the note could not be deleted.";0===t.readyState&&(r+="<br>Please check your internet connection (Well yes, sorry, deleting in offline mode is not yet suppported)."),N.a.show(r),console.error("note.uid: ",e.uid,"status: ",n,"error: ",a.toString())}).always(function(){t.setState({isSynced:!0})})}}]),t}(a.Component),Kn=(n(137),n(138),r.a.lazy(function(){return n.e(3).then(n.bind(null,151))})),Yn=r.a.lazy(function(){return n.e(4).then(n.bind(null,152))}),Jn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isLoggedIn:null},n.setIsLoggedIn(),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,this.renderLoggedIn(),this.renderLoggedOut()))}},{key:"onLoginSuccess",value:function(){this.setState({isLoggedIn:!0})}},{key:"setIsLoggedIn",value:function(){var e=this;m.a.ajax({url:"/users/is_authenticated",method:"GET",dataType:"json"}).done(function(t,n,a){e.onLoginSuccess()}).fail(function(){e.setState({isLoggedIn:!1})})}},{key:"renderLoggedIn",value:function(){if(!0===this.state.isLoggedIn)return r.a.createElement(g.a,null,r.a.createElement(f.a,{path:"/notes/:id",component:Vn}),r.a.createElement(f.a,{path:"/notes",component:Vn}),r.a.createElement(v.a,{from:"/",to:"/notes"}))}},{key:"renderLoggedOut",value:function(){var e=this;if(!1===this.state.isLoggedIn)return r.a.createElement(g.a,null,r.a.createElement(f.a,{path:"/register",render:function(t){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null)},r.a.createElement(Yn,Object.assign({onLoginSuccess:e.onLoginSuccess.bind(e)},t)))}}),r.a.createElement(f.a,{path:"/login",render:function(t){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null)},r.a.createElement(Kn,{onLoginSuccess:e.onLoginSuccess.bind(e),alwaysRememberMe:window.ALWAYS_REMEMBER_ME}))}}),r.a.createElement(v.a,{to:"/login"}))}}]),t}(a.Component),$n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Gn(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Xn=n(15);window.EventHive=E.a,window.NoticeFlash=Xn.a,window.AlertFlash=N.a,window.API_HOST&&m.a.ajaxPrefilter(function(e){e.url=window.API_HOST+e.url}),s.a.render(r.a.createElement(Jn,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");$n?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Gn(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Gn(e)})}}(),function(){var e=void 0;m()(document).ajaxStart(function(){clearTimeout(e),e=setTimeout(function(){E.a.publish("spinner.toggle",{show:!0})},500)}),m()(document).ajaxStop(function(){clearTimeout(e),E.a.publish("spinner.toggle",{show:!1})})}()},15:function(e,t,n){"use strict";var a=n(3),r=n(4),i=n(6),s=n(5),o=n(7),c=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"getName",value:function(){return"notice"}},{key:"getAdditionalCssClass",value:function(){return"success"}}]),t}(n(16).a);t.a=c},16:function(e,t,n){"use strict";var a=n(3),r=n(4),i=n(6),s=n(5),o=n(7),c=n(0),l=n.n(c),u=n(8),h=n.n(u),d=function(e){function t(e,n){var r;return Object(a.a)(this,t),(r=Object(i.a)(this,Object(s.a)(t).call(this,e,n))).state={message:e.message},r}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.state.message?l.a.createElement("div",{className:"flex center"},l.a.createElement("div",{className:"hidden-sm"}),l.a.createElement("div",{className:"full third-1000"},l.a.createElement("div",{className:this.getCssClass()},l.a.createElement("footer",{dangerouslySetInnerHTML:{__html:this.state.message}}),l.a.createElement("button",{className:"close icon",type:"button",onClick:this.handleClose.bind(this)},"\xd7"))),l.a.createElement("div",{className:"hidden-sm"})):null}},{key:"getCssClass",value:function(){return["card",this.getAdditionalCssClass()].join(" ")}},{key:"handleClose",value:function(){this.setState({message:null})}},{key:"componentDidMount",value:function(){var e=this;h()(document).on(this.constructor.getEventName(),function(t,n){e.setState({message:n.message})})}},{key:"componentWillUnmount",value:function(){h()(document).off(this.constructor.getEventName())}},{key:"getAdditionalCssClass",value:function(){}},{key:"getName",value:function(){}}],[{key:"getEventName",value:function(){return"mykonote.flash."+this.prototype.getName()}},{key:"show",value:function(e){h()(document).trigger(this.getEventName(),{message:e})}},{key:"clear",value:function(){h()(document).trigger(this.getEventName(),{message:null})}}]),t}(c.Component);t.a=d},17:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(105);t.a=function(){return r.a.createElement("svg",{className:"spinner",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{className:"path",fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"}))}},26:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(8),r=n.n(a);function i(){r()("html, body").animate({scrollTop:0},300)}},27:function(e,t,n){"use strict";var a=n(3),r=n(4),i=n(6),s=n(5),o=n(7),c=n(0),l=n.n(c),u=n(15),h=n(10),d=(n(136),function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(u.a,null),l.a.createElement(h.a,null))}}]),t}(c.Component));t.a=d},28:function(e,t,n){"use strict";var a=n(3),r=n(4),i=n(6),s=n(5),o=n(7),c=n(0),l=n.n(c),u=n(144),h=n(8),d=n.n(h),g=n(9),f=n(17),v=n(143),p=n(10),m=n(26);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var k=l.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),w=l.a.createElement("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),E=function(e){var t=e.svgRef,n=b(e,["svgRef"]);return l.a.createElement("svg",y({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),k,w)},O=l.a.forwardRef(function(e,t){return l.a.createElement(E,y({svgRef:t},e))}),S=(n.p,function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("button",{onClick:this.handleClicked.bind(this),className:"icon-lg big pseudo"},l.a.createElement(O,null),l.a.createElement("span",{className:"icon-lg-text"},"Logout"))}},{key:"handleClicked",value:function(e){e.preventDefault(),d.a.ajax({url:"/users/sign_out",method:"DELETE"}).done(function(e){window.location.reload()}).fail(function(){p.a.show("Apologies, logging out did not happen.")}).always(m.a)}}]),t}(c.Component)),L=Object(v.a)(S);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var C=l.a.createElement("circle",{fill:"#008bce",cx:46.28,cy:46.28,r:46.28}),x=l.a.createElement("path",{fill:"#fff",d:"M44.84 43.38a2.9 2.9 0 1 0 2.9 2.9 2.9 2.9 0 0 0-2.9-2.9z"}),A=l.a.createElement("path",{fill:"#fff",d:"M46.33 34.07A153.13 153.13 0 0 0 62.48 48.6a7.53 7.53 0 0 0-1.78 2 5.42 5.42 0 0 0 .24 6.33 6.65 6.65 0 0 0 5.24 2.52 5.14 5.14 0 0 0 4-2 5.91 5.91 0 0 0 1.29-4.58 6.07 6.07 0 0 0-.63-1.9 9.3 9.3 0 0 1 5.29 3.91 10.11 10.11 0 0 1 1.35 7.82c-.95 3.12-2.28 5.68-5.85 7.22-9.31 4-17.49-3.8-21.45-8.65-.69-.85-1.4-1.59-2.25-.89s-.51 1.68.1 2.59a26.32 26.32 0 0 0 10.55 9.65 16.44 16.44 0 0 0 13.94.79 14.39 14.39 0 0 0 8.41-9.29 13.43 13.43 0 0 0-1.44-10.74 13.64 13.64 0 0 0-8.92-6.5 11 11 0 0 0-3.92-.11 143.91 143.91 0 0 1-16.53-14.48c5.13-3.33 6.21-7.84 5.7-17.9l-.15-2.84-2.62 1.12c-6.17 2.63-9.77 5.82-10.59 10.48a13.11 13.11 0 0 0 1 7.58 23.71 23.71 0 0 1-6.88.23c-.18-6.56-2.22-15.45-12.79-18.53l-2.61-.88v2.75c.14 14.12 5.55 19.06 11.16 20.06h.23v.19c-.13 5-5 27.79-18.86 44.59q1.41 1.4 2.95 2.68C30.83 65 36.22 41.76 36.54 34.92a24.41 24.41 0 0 0 9.79-.85zm19.41 17.79a2.42 2.42 0 1 1-2.42 2.42 2.42 2.42 0 0 1 2.42-2.42zm-19.36-28a11.09 11.09 0 0 1 6.46-7.67c.44 7.76-2.18 11.32-5.49 13.15l-.19-.21c-.69-.82-1.1-3.53-.78-5.3zm-22.43-8.18c7.67 2.9 8.47 9.58 8.66 14.73-3.63-.94-7.85-5.58-8.66-14.76z"}),I=function(e){var t=e.svgRef,n=N(e,["svgRef"]);return l.a.createElement("svg",j({viewBox:"0 0 92.57 92.57",ref:t},n),C,x,A)},P=l.a.forwardRef(function(e,t){return l.a.createElement(I,j({svgRef:t},e))});n.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var D=l.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),M=l.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),T=function(e){var t=e.svgRef,n=R(e,["svgRef"]);return l.a.createElement("svg",_({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),D,M)},H=l.a.forwardRef(function(e,t){return l.a.createElement(T,_({svgRef:t},e))}),B=(n.p,n(133),function(e){function t(e,n){var r;return Object(a.a)(this,t),(r=Object(i.a)(this,Object(s.a)(t).call(this,e,n))).state={showSpinner:!1},r}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("nav",null,this.renderLogo(),this.props.isLoggedIn?this.renderSearchBox():null,l.a.createElement("input",{id:"bmenug",type:"checkbox",className:"show",ref:function(t){return e.showHamburger=t}}),l.a.createElement("label",{htmlFor:"bmenug",className:"burger pseudo button"},"\u2261"),l.a.createElement("div",{className:"menu"},l.a.createElement("button",{type:"button",className:"icon close-hamburger hidden-lg",onClick:this.handleCloseHamburgerClicked.bind(this)},l.a.createElement(H,null)),this.props.isLoggedIn?l.a.createElement(L,null):null))}},{key:"renderLogo",value:function(){return l.a.createElement(u.a,{to:"/",className:"brand"},this.state.showSpinner?l.a.createElement("div",{className:"logo"},l.a.createElement(f.a,null)):l.a.createElement(P,{className:"logo"}))}},{key:"componentDidMount",value:function(){this.subscribeSpinner(),this.subscribeSearch()}},{key:"renderSearchBox",value:function(){var e=this;return l.a.createElement("div",{className:"search vertically-aligned"},l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Search",onChange:this.props.handleSearchEnter,ref:function(t){return e.$searchInput=d()(t)}}),l.a.createElement("button",{type:"button",className:"search-clear",onClick:this.handleSearchCleared.bind(this)},"\xd7"))}},{key:"getSpinnerCssClass",value:function(){var e="spinner";return this.state.showSpinner||(e+=" hidden"),e}},{key:"getLogoCssClass",value:function(){var e="navbar-logo";return this.state.showSpinner&&(e+=" hidden"),e}},{key:"handleSearchCleared",value:function(e){this.$searchInput.val(""),d()(e.target).blur(),this.props.handleSearchCleared()}},{key:"handleCloseHamburgerClicked",value:function(){this.showHamburger.checked=!1}},{key:"subscribeSpinner",value:function(){var e=this;g.a.subscribe("spinner.toggle",function(t){e.setState({showSpinner:t.show})})}},{key:"subscribeSearch",value:function(){var e=this;g.a.subscribe("search.focus",function(){e.$searchInput.focus(),e.$searchInput.select()})}}]),t}(c.Component));t.a=B},32:function(e,t,n){e.exports=n.p+"static/media/short_text-24px.0c7dd082.svg"},9:function(e,t,n){"use strict";var a=n(3),r=n(4),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"subscribe",value:function(e,t){var n=this;this.topics.hasOwnProperty.call(this.topics,e)||(this.topics[e]=[]);var a=this.topics[e].push(t)-1;return{remove:function(){delete n.topics[e][a]}}}},{key:"publish",value:function(e,t){this.topics.hasOwnProperty.call(this.topics,e)&&this.topics[e].forEach(function(e){e(void 0!==t?t:{})})}},{key:"topics",get:function(){return"undefined"===typeof this._topics&&(this._topics={}),this._topics}}]),e}();t.a=i}},[[100,1,2]]]);
//# sourceMappingURL=main.fa72fa2f.chunk.js.map