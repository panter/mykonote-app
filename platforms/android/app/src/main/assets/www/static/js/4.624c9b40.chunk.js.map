{"version":3,"sources":["Form.js","UserLinks.js","UserForm.js","RegistrationForm.js"],"names":["__webpack_require__","d","__webpack_exports__","TextInput","Checkbox","SubmitButton","Utf8","nameValue","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","props","a","createElement","htmlFor","idValue","className","label","type","id","name","onChange","e","target","value","checked","concat","model","attribute","UserLinks","react_default","Route","path","render","Link","to","UserForm","intro","children","RegistrationForm","react__WEBPACK_IMPORTED_MODULE_6___default","_Navbar__WEBPACK_IMPORTED_MODULE_12__","isLoggedIn","_Flash__WEBPACK_IMPORTED_MODULE_13__","_UserForm__WEBPACK_IMPORTED_MODULE_14__","this","renderIntro","onSubmit","handleFormSubmit","bind","_Form__WEBPACK_IMPORTED_MODULE_10__","renderTextInput","href","setValue","setState","Object","_home_lex_src_mykonote_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_this","preventDefault","$","ajax","url","method","dataType","data","state","done","AlertFlash","clear","onLoginSuccess","history","push","NoticeFlash","show","fail","_ref","errors","responseJSON","join","always","scrollToTop","Component"],"mappings":"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","file":"static/js/4.624c9b40.chunk.js","sourcesContent":["import React from 'react';\n\nexport function TextInput(props) {\n  return (\n    <div>\n      <label\n        htmlFor={idValue(props)}\n        className=\"control-label\">{props.label}</label>\n\n      <input\n        type={props.type}\n        id={idValue(props)}\n        name={nameValue(props)}\n        onChange={(e) => props.onChange(nameValue(props), e.target.value)} />\n    </div>\n  );\n}\n\nexport function Checkbox(props) {\n  return (\n    <label htmlFor={idValue(props)}>\n      <input\n        type=\"checkbox\"\n        id={idValue(props)}\n        name={nameValue(props)}\n        onChange={(e) => props.onChange(nameValue(props), e.target.checked)} />\n\n      <span className=\"checkable\">{props.label}</span>\n    </label>\n  );\n}\n\nexport function SubmitButton(props) {\n  return (\n    <input type=\"submit\" value={props.label} />\n  );\n}\n\nexport function Utf8() {\n  return (\n    <input type=\"hidden\" value=\"âœ“\" name=\"utf8\" />\n  );\n}\n\nfunction idValue(props) {\n  return `${props.model}_${props.attribute}`;\n}\n\nexport function nameValue(props) {\n  return `${props.model}[${props.attribute}]`;\n}\n","import React from 'react';\nimport { Route, Link } from 'react-router-dom';\n\nexport default function UserLinks() {\n  return (\n    <div>\n      <Route path=\"/login\" render={props => (\n        <Link className=\"btn btn-info btn-link btn-no-padding\" to=\"/register\">Register</Link>\n      )}/>\n\n      <Route path=\"/register\" render={props => (\n        <Link className=\"btn btn-info btn-link btn-no-padding\" to=\"/login\">Login</Link>\n      )}/>\n    </div>\n  );\n}\n","import React from 'react';\nimport UserLinks from './UserLinks';\n\nexport default function UserForm(props) {\n  return (\n    <div className=\"flex center\">\n      <div className=\"hidden-sm\"></div>\n\n      <div className=\"full third-1000\">\n        {props.intro ? (\n          <div className=\"card\">\n            <footer>\n              {props.intro}\n            </footer>\n          </div>\n        ) : (\n          null\n        )}\n\n        {props.children}\n\n        <UserLinks />\n      </div>\n\n      <div className=\"hidden-sm\"></div>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport $ from 'jquery';\nimport AlertFlash from './AlertFlash';\nimport NoticeFlash from './NoticeFlash';\nimport { TextInput, SubmitButton, Utf8 } from './Form';\nimport { scrollToTop } from './scroll';\nimport Navbar from './Navbar';\nimport Flash from './Flash';\nimport UserForm from './UserForm';\n\nclass RegistrationForm extends Component {\n  render() {\n    return (\n      <div>\n        <Navbar isLoggedIn={false} />\n        <main>\n          <Flash />\n          <UserForm intro={this.renderIntro()}>\n            <form onSubmit={this.handleFormSubmit.bind(this)}>\n              <Utf8 />\n\n              <div className=\"flex one\">\n                {this.renderTextInput(\"email\", \"email\", \"Email\")}\n\n                {this.renderTextInput(\"password\", \"password\", \"Password\")}\n\n                {this.renderTextInput(\"password\", \"password_confirmation\", \"Confirm password\")}\n              </div>\n\n              <SubmitButton label=\"Register\" />\n            </form>\n          </UserForm>\n        </main>\n      </div>\n    );\n  }\n\n  renderIntro() {\n    return (\n      <div>\n        <p>\n          You can register for a <strong>free account</strong> which <strong>limits</strong> you to <strong>100 notes</strong>.\n          <br/>\n          This free hosting service is sponsored by <a href=\"https://www.panter.ch\">Panter AG</a>.\n        </p>\n        <p>\n          Alternatively you may <a href=\"https://github.com/panter/mykonote\">get the source code from\n          GitHub</a> and install it on a server on your own.\n        </p>\n      </div>\n    );\n  }\n\n  renderTextInput(type, attribute, label) {\n    return (\n      <TextInput\n        type={type}\n        model=\"user\"\n        attribute={attribute}\n        label={label}\n        onChange={this.setValue.bind(this)} />\n    );\n  }\n\n  setValue(name, value) {\n    this.setState({ [name]: value });\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n\n    $.ajax({\n      url: '/users',\n      method: 'POST',\n      dataType: 'json',\n      data: this.state\n    })\n    .done((data) => {\n      AlertFlash.clear();\n      this.props.onLoginSuccess();\n      this.props.history.push('/notes')\n      NoticeFlash.show(\n        'Great! Glad you made it!<br>' +\n          'You have been subscribed to the <strong>free plan</strong> which ' +\n          '<strong>limits</strong> you to have <strong>100 notes</strong>.'\n      )\n    })\n    .fail(({ responseJSON }) => {\n      const errors = responseJSON.errors.join('<br>');\n\n      AlertFlash.show('Sorry, that did not work. You need to fix your inputs:<br>' + errors)\n    })\n    .always(scrollToTop);\n  }\n}\n\nexport default RegistrationForm;\n"],"sourceRoot":""}